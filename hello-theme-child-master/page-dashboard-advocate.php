<?php get_header() ?>
<?php
    if ( ! defined( 'ABSPATH' ) ) {
        exit; // Exit if accessed directly.
    }

    if (!is_user_logged_in()) {
        wp_redirect(home_url('/login'));
        exit;
    }
    
//    $background_image_url = 'https://staging.childfreebc.com/wp-content/uploads/2023/11/foo1.svg';
    $background_image_url = 'https://childfreebc.com/wp-content/uploads/2023/11/foo1.svg';
    $user = wp_get_current_user();
    $user_id = $user->ID;
    $user_name = $user->user_nicename;
    $stripeChecker = do_shortcode('[user_stripe_check]');

    echo '<script>console.log(' . json_encode($user) . ')</script>';

    global $wpdb;
    $table_name = $wpdb->prefix . 'affiliate_wp_affiliates';
    $total_unpaid_earnings = $wpdb->get_var("SELECT SUM(unpaid_earnings) FROM $table_name WHERE user_id = $user->ID");
//    $unpaid_earnings = $wpdb->get_var("SELECT unpaid_earnings FROM $table_name WHERE user_id = $user->ID");

    $args = array(
        'post_type'      => 'product',
        'posts_per_page' => -1,
        's'              => $user_name,
    );
    
    $products = new WP_Query($args);
    echo '<script>console.log(' . json_encode($products) . ')</script>';
    $acc_receive = null;

    if ($products->have_posts()) {
        while ($products->have_posts()) {
            $products->the_post();
            $product_id = get_the_ID();

            $product = wc_get_product($product_id);
            $product_meta_data = $product->get_meta_data();


            $honorarium = $product->get_honorarium();
        }
        wp_reset_postdata();
    }

    // Switch account by roles
    $userRoles = $user->roles;
    $roleMask = [
        'subscriber' => 'Donor',
        'candidate' => 'Candidate',
        'customer' => 'Advocate',
        'medical_provider' => 'Physician'
    ];

    $options = '';

    // Extract role from the URL
    $url = rtrim($_SERVER['REQUEST_URI'], '/');
    $parts = explode('-', $url);
    $selectedRole = ucfirst(strtolower(end($parts)));

    foreach ($userRoles as $userRole) {
        if (array_key_exists($userRole, $roleMask)) {
            $roleName = array_key_exists($userRole, $roleMask) ? $roleMask[$userRole] : $userRole;
            $options .= '<option value="' . $userRole . '"';

            if ($roleName === $selectedRole) {
                $options .= ' selected="selected"';
            }
            $options .= '>' . $roleName . '</option>';
        }
    }

$argsRef = array(
    'post_type'      => 'product',
    'posts_per_page' => -1,
);

$productsRef = new WP_Query($argsRef);
$totalRefCount = 0;
$totalRefSucceed = 0;

// Initialize default values
$ref_product_raised = 0;
$ref_product_goal = 0;
$ref_user_image = '/wp-content/uploads/2023/10/User-1-1.svg';
$ref_user_name = 'no-ref';
$formatted_ref_order_date = 'no-ref';
$foundRef = false;

if ($productsRef->have_posts()) {
    while ($productsRef->have_posts()) {
        $productsRef->the_post();
        $product_id = get_the_ID();

        $refproduct = wc_get_product($product_id);
        $referredPerson = $refproduct->get_referred_person();
        if ($referredPerson === $user_name) {
//            echo '<script>console.log('. json_encode($refproduct) .')</script>';
            $totalRefCount++;
            $ref_product_raised = $refproduct->get_amount_raised();
            $ref_product_goal = $refproduct->get_goal();
            $ref_user_image = $refproduct->get_image();
            $ref_user_name = $refproduct->get_name();
            $ref_date = $refproduct->get_date_modified();
            $formatted_ref_order_date = $ref_date->format('j F, g:i A');

            $honorarium = $refproduct->get_honorarium();
            $foundRef = true;

            if ($ref_product_raised >= $ref_product_goal) {
                $totalRefSucceed++;
            }
        }
    }
    wp_reset_postdata();
}
?>

<style>

    .navbar {
        padding: 18px 80px;
    }

    .mainBg {
        background: #F5F5F5 !important;
    }

    a.page-link.active {
        background: #143A62;
        color: white;
        border-radius: 100%;
    }

    .dashboard, .bg-white {
        background: white;
    }

    .table :where(th, td) {
        border: 0 !important;
    }

    .rounded-xl {
        border-radius: 0.75rem !important;
    }

    .border-borderColor {
        border-color: #EBEBEB !important;
    }

    .progress::-webkit-progress-value {
        background: #143A62;
    }

    .text-primary {
        color: #143A62;
    }

    .bg-primary {
        background: #143A62 !important;
    }

    .text-info {
        color: #8497AB !important;
    }

    .bg-accentBg {
        background: #F3E6F6;
    }

    .bg-primary.bg-opacity-5 {
        background: rgba(20, 58, 98, 0.03) !important;
    }

    .checkbox-primary:checked {
        border-color: transparent !important
    }

    [type=button]:focus, [type=button]:hover, [type=submit]:focus, [type=submit]:hover, button:focus {
        background-color: unset !important;
        outline: none;
        color: #333;
    }

    .toggle {
        box-shadow: var(--handleoffsetcalculator) 0 0 2px white inset, 0 0 0 2px white  inset, var(--togglehandleborder);
    }

    .toggle-primary:checked {
        background: #143A62;
    }

    .accent:after {
        content: '1';
        width: 310px;
        background-size: contain;
        /*background-image: url(https://staging.childfreebc.com/wp-content/uploads/2023/10/title-line__long.svg);*/
        background-image: url(https://childfreebc.com/wp-content/uploads/2023/10/title-line__long.svg);
        position: absolute;
        color: transparent;
        background-repeat: no-repeat;
        right: 10%;
        top: 100%;
    }

    .acc-avatar img {
        object-fit: cover;
        width: 100% !important;
        height: 100%;
        border-radius: 6px !important;
        object-position: right center;
    }

    .input {
        background: white !important;
    }

    @media screen and (max-width:1024px) {
        .accent:after {
            background-image: unset;
        }    
        
        .navbar {
            padding: 18px 16px;
        }
    }

    @media screen and (max-width: 490px) {
        .mobMenuBtn {
            top: 20px;
        }        
    }
</style>

    <main class="bg-mainBg py-6 px-4 xl:px-20 xl:py-8">
        
        <div class="screenHeader flex w-full mb-8">
                <h1 class="text-4xl font-normal flex flex-wrap gap-2 lg:gap-3 lg:text-6xl font-normal text-primary relative justify-center md:justify-start">
                    My
                    <span>Referrals</span>
                    and
                    <span class="accent">Advocate Account</span>
                </h1>
            </div>
    
            <div class="dashboard py-6 px-3 lg:px-6 rounded-xl shadow-lg relative">
                <div class="dropdown xl:hidden absolute t-5 mobMenuBtn">
                    <label tabindex="0" class="btn btn-ghost btn-circle text-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" /></svg>
                    </label>
                    <ul tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow rounded-box w-52 bg-white">
                        <li class="p-2 w-full menuItem cursor-pointer hover:text-primary">Dashboard</li> 
                        <li class="p-2 w-full menuItem cursor-pointer hover:text-primary">Advocate Information</li>
                        <li class="p-2 w-full menuItem cursor-pointer hover:text-primary">My Candidates Status</li>
                        <li class="p-2 w-full menuItem cursor-pointer hover:text-primary">Notifications</li>
                        <li class="p-2 w-full menuItem cursor-pointer hover:text-primary">Referrals</li>
                        <!-- <li class="p-2 w-full menuItem cursor-pointer hover:text-primary">Influencer Referrals</li>            -->
                        <li class="p-2 w-full menuItem cursor-pointer hover:text-primary">Account Details</li>
                        <li class="p-2 w-full menuItem cursor-pointer hover:text-primary">Switch Account</li>
                        <button class="pt-4 px-2 text-left border-0 hover:bg-transparent hover:text-primary" onclick="logout.showModal()">Log Out</button>
                    </ul>
                </div> 
    
            <div class="flex w-full">
                <div class="w-1/4 pr-8 border-r border-gray-300 hidden xl:flex" style="width: 282px;">
                    <ul class="flex flex-col gap-4 text-textColor text-base font-normal w-full">
                    <li><a href="#tab1" class="p-2 w-full flex">Dashboard</a></li>
                    <li><a href="#tab2" class="p-2 w-full flex">Advocate Information</a></li>
                    <li><a href="#tab3" class="p-2 w-full flex">My Candidates Status</a></li>
                    <li><a href="#tab4" class="p-2 w-full flex">Notifications</a></li>
                    <li class="pb-4"><a href="#tab6" class="p-2 w-full flex">Referrals</a></li>   
<!--                    <li class="pb-4" style="border-bottom: 1px solid #EBEBEB;">Influencer Referrals</li>         -->
                    <li><a href="#tab5" class="p-2 w-full flex">Account Details</a></li>
                    <li class="pb-4" style="border-bottom: 1px solid #EBEBEB;"><a href="#tab9" class="p-2 w-full flex">Switch Account</a></li>
                    <button class="px-2 text-left hidden xl:flex border-0 hover:bg-transparent hover:text-primary" onclick="logout.showModal()">Log Out</button>
                    </ul>
                </div>
                <div class="w-full xl:pl-8">
                    <div id="tab1" class="hidden">
                        <div class="w-full h-full flex flex-col gap-8">
                            <h1 class="text-3xl font-medium text-textColor pl-20 xl:pl-0">Dashboard</h1>
                            <div class="w-full h-full flex flex-col gap-6">
                                <div class="cardRow w-full flex gap-6 flex-wrap lg:flex-nowrap">
    
                                    <div class="cardItem px-6 py-5 flex gap-6 items-center bg-card1 rounded-xl w-full lg:max-w-3xl shadow-shadowItem">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="54" height="54" viewBox="0 0 54 54" fill="none">
                                            <g clip-path="url(#clip0_1364_22945)">
                                              <path d="M27 0C21.6599 0 16.4397 1.58352 11.9996 4.55032C7.55949 7.51712 4.09883 11.7339 2.05526 16.6675C0.0116982 21.6011 -0.522991 27.0299 0.51881 32.2674C1.56061 37.5049 4.13211 42.3159 7.90813 46.0919C11.6841 49.8679 16.4951 52.4394 21.7326 53.4812C26.9701 54.523 32.3989 53.9883 37.3325 51.9447C42.2661 49.9012 46.4829 46.4405 49.4497 42.0004C52.4165 37.5603 54 32.3401 54 27C53.9921 19.8416 51.145 12.9786 46.0832 7.9168C41.0214 2.85502 34.1584 0.00786131 27 0ZM27 51.84C22.0871 51.84 17.2846 50.3832 13.1996 47.6537C9.11473 44.9242 5.93092 41.0448 4.05084 36.5059C2.17076 31.9669 1.67885 26.9724 2.63731 22.154C3.59576 17.3355 5.96154 12.9094 9.43548 9.43547C12.9094 5.96153 17.3355 3.59575 22.154 2.63729C26.9725 1.67884 31.9669 2.17075 36.5059 4.05083C41.0448 5.93091 44.9243 9.11472 47.6537 13.1996C50.3832 17.2845 51.84 22.0871 51.84 27C51.8329 33.5858 49.2135 39.8998 44.5566 44.5566C39.8998 49.2135 33.5858 51.8328 27 51.84ZM36.72 32.4C36.72 34.1186 36.0373 35.7668 34.8221 36.982C33.6068 38.1973 31.9586 38.88 30.24 38.88H28.08V42.12C28.08 42.4064 27.9662 42.6811 27.7637 42.8837C27.5611 43.0862 27.2864 43.2 27 43.2C26.7136 43.2 26.4389 43.0862 26.2363 42.8837C26.0338 42.6811 25.92 42.4064 25.92 42.12V38.88H20.52C20.2336 38.88 19.9589 38.7662 19.7563 38.5637C19.5538 38.3611 19.44 38.0864 19.44 37.8C19.44 37.5136 19.5538 37.2389 19.7563 37.0363C19.9589 36.8338 20.2336 36.72 20.52 36.72H30.24C31.3857 36.72 32.4846 36.2649 33.2947 35.4547C34.1049 34.6445 34.56 33.5457 34.56 32.4C34.56 31.2543 34.1049 30.1555 33.2947 29.3453C32.4846 28.5351 31.3857 28.08 30.24 28.08H23.76C22.0414 28.08 20.3932 27.3973 19.178 26.182C17.9627 24.9668 17.28 23.3186 17.28 21.6C17.28 19.8814 17.9627 18.2332 19.178 17.0179C20.3932 15.8027 22.0414 15.12 23.76 15.12H25.92V11.88C25.92 11.5936 26.0338 11.3189 26.2363 11.1163C26.4389 10.9138 26.7136 10.8 27 10.8C27.2864 10.8 27.5611 10.9138 27.7637 11.1163C27.9662 11.3189 28.08 11.5936 28.08 11.88V15.12H33.48C33.7664 15.12 34.0411 15.2338 34.2437 15.4363C34.4462 15.6389 34.56 15.9136 34.56 16.2C34.56 16.4864 34.4462 16.7611 34.2437 16.9637C34.0411 17.1662 33.7664 17.28 33.48 17.28H23.76C22.6143 17.28 21.5155 17.7351 20.7053 18.5453C19.8952 19.3555 19.44 20.4543 19.44 21.6C19.44 22.7457 19.8952 23.8445 20.7053 24.6547C21.5155 25.4649 22.6143 25.92 23.76 25.92H30.24C31.9586 25.92 33.6068 26.6027 34.8221 27.8179C36.0373 29.0332 36.72 30.6814 36.72 32.4Z" fill="#143A62"/>
                                            </g>
                                            <defs>
                                              <clipPath id="clip0_1364_22945">
                                                <rect width="54" height="54" fill="white"/>
                                              </clipPath>
                                            </defs>
                                          </svg>
                                        <div class="flex flex-col gap-2 w-3/4">
                                            <h3 class="text-base text-primary">Total Credit Received</h3>
                                            <span class="text-primary text-3xl font-semibold">
                                                <?php echo '$' . number_format($total_unpaid_earnings, 2); ?>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="cardItem px-6 py-5 flex gap-6 items-center bg-card2 rounded-xl w-full lg::max-w-sm shadow-shadowItem">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80" fill="none">
                                            <path d="M40 63C54.9117 63 67 50.9117 67 36C67 21.0883 54.9117 9 40 9C25.0883 9 13 21.0883 13 36C13 50.9117 25.0883 63 40 63Z" fill="#C2DDDD"/>
                                            <path d="M50.2375 19.7937C51.5555 18.5289 53.6085 17.6034 56.7968 17.5996C59.987 17.6034 62.038 18.5289 63.358 19.7937C63.3623 19.797 63.3662 19.8008 63.3695 19.805C72.5033 27.4616 67.2986 39.7703 67.5083 42.5486C67.6738 44.722 61.2626 44.2149 61.2626 44.2149C60.9844 43.5526 60.785 42.8621 60.6681 42.1566L60.6546 42.1434C62.0447 40.8513 63.1051 39.2667 63.7524 37.514C64.5317 35.499 64.9973 33.0297 65.3495 29.8272C63.5696 28.9676 62.117 24.9754 61.584 23.3336C61.5656 23.2743 61.5298 23.2214 61.4809 23.1813C61.432 23.1412 61.372 23.1156 61.3083 23.1076C61.2446 23.0996 61.1798 23.1096 61.1218 23.1363C61.0639 23.1631 61.0152 23.2054 60.9817 23.2582C58.1648 27.6652 54.128 28.6322 48.2075 29.4785C48.881 35.8477 49.9604 39.365 52.9409 42.1415L52.9274 42.1547C52.8093 42.8602 52.6092 43.5506 52.3309 44.2131V44.215C52.3309 44.215 45.9217 44.722 46.0853 42.5486C46.295 39.7684 41.0864 27.4503 50.2356 19.7937L50.2375 19.7937Z" fill="#91C8C8"/>
                                            <path d="M33.0635 26.8223C32.9696 27.5485 32.9495 29.8091 32.9434 30.8875L32.9418 30.8891C32.8403 30.7958 32.7243 30.7191 32.5982 30.6619C32.3899 30.7572 32.1527 30.7715 31.9342 30.7019C31.7156 30.6323 31.5318 30.4839 31.4195 30.2865C31.038 29.7595 30.7701 29.161 30.6321 28.5281C30.6153 28.4475 30.5678 28.3762 30.4992 28.3291C30.4307 28.282 30.3465 28.2625 30.2638 28.2747C24.1652 29.1755 19.4564 26.0807 17.9448 24.908C17.8816 24.8593 17.8079 24.8256 17.7294 24.8093C17.6509 24.7929 17.5696 24.7944 17.4918 24.8137C17.4107 24.8261 17.3347 24.8603 17.2721 24.9127C17.2096 24.9651 17.1629 25.0335 17.1374 25.1103C17.0114 25.8033 16.8295 26.4854 16.5935 27.1499C16.1583 28.4774 15.4264 29.6918 14.4518 30.7036C13.9325 31.2429 13.2623 30.6619 13.2623 30.6619C13.1415 30.7175 13.0294 30.7898 12.9294 30.8767C12.9063 29.8863 12.8509 27.5995 12.7969 26.8223C12.7938 24.1416 13.4918 18.6951 18.5381 18.6796C20.1452 18.675 19.6968 17.5996 22.7939 17.5996C32.2777 17.595 33.0635 23.8511 33.0635 26.8223Z" fill="#91C8C8"/>
                                            <path d="M50.2691 20.7996L49.785 20.3207L49.0625 20.0445L49.2676 19.8076C50.96 18.3552 53.4428 17.603 56.6127 17.5996C59.7834 17.603 62.2667 18.3551 63.9958 19.835L62.9183 20.7663C61.4852 19.5395 59.3637 18.9161 56.6127 18.9131C53.8629 18.9161 51.7422 19.5391 50.3116 20.7658C50.2992 20.7765 50.2823 20.7898 50.2691 20.7996Z" fill="#003366"/>
                                            <path d="M76.4004 62.9327C75.9213 58.2204 75.2513 53.8536 74.8074 52.5492C74.663 52.124 74.4268 51.7327 74.1143 51.4007C73.8018 51.0688 73.4198 50.8037 72.9934 50.6226L61.8377 46.3378C61.7217 46.2933 61.6194 46.2211 61.5407 46.1279C61.2879 45.8315 61.0757 45.5052 60.9092 45.1571C60.6063 44.4481 60.389 43.7083 60.2617 42.9519L61.6992 42.666C61.807 43.3171 61.9891 43.9549 62.2423 44.5679C62.332 44.7563 62.4415 44.9355 62.5691 45.1026L73.5621 49.3251C74.1821 49.5851 74.7379 49.9678 75.193 50.4481C75.648 50.9284 75.9922 51.4954 76.2028 52.1121C76.7638 53.7601 77.4558 58.8055 77.8617 62.7962L76.4004 62.9327Z" fill="#003366"/>
                                            <path d="M57.0869 44.2661C56.6774 44.2641 56.2688 44.229 55.8658 44.1612L55.6762 44.1333C54.6837 44.0035 53.7553 43.6017 53.0091 42.9789C52.8443 42.842 52.7075 42.7225 52.573 42.5989C49.1594 39.5232 48.115 35.4786 47.4648 29.5333C47.4451 29.3533 47.5007 29.1731 47.62 29.0302C47.7394 28.8874 47.9133 28.7929 48.1056 28.7663C53.9308 27.9609 57.9584 27.117 60.7548 22.8874C60.8656 22.7192 61.0264 22.5844 61.2176 22.4993C61.4089 22.4142 61.6226 22.3825 61.8328 22.408C62.043 22.4334 62.2409 22.515 62.4024 22.6428C62.5639 22.7706 62.6822 22.9392 62.743 23.1283C63.8275 26.3578 65.1701 28.6798 66.2442 29.1812C66.3816 29.2454 66.4947 29.3471 66.5684 29.4726C66.6421 29.5982 66.6729 29.7417 66.6567 29.884C66.26 33.3741 65.7383 35.7918 64.9654 37.7241C64.2589 39.5713 63.1023 41.2411 61.5862 42.6025C61.4534 42.723 61.3168 42.842 61.1764 42.9597C60.4246 43.5914 59.4874 44 58.4847 44.1333L58.2958 44.1612C58.0732 44.1951 57.8914 44.2194 57.7079 44.2372C57.5112 44.2551 57.3225 44.2638 57.0869 44.2661ZM49.044 30.0567C49.776 36.2383 50.9636 39.1921 53.6262 41.5901L53.6314 41.5952C53.7502 41.7042 53.8707 41.809 53.995 41.913C54.5287 42.3642 55.1971 42.654 55.9116 42.744L56.1017 42.772C56.4254 42.8283 56.7539 42.8576 57.0832 42.8594C57.258 42.8581 57.4069 42.8512 57.5554 42.8379C57.7055 42.8228 57.8612 42.8022 58.0557 42.7724L58.2466 42.744C58.9726 42.6508 59.6509 42.3541 60.1913 41.8933C60.2921 41.8081 60.4139 41.7019 60.5337 41.5933C61.8869 40.3763 62.919 38.8841 63.5491 37.2337C64.2444 35.4951 64.7275 33.3036 65.1034 30.1679C63.5299 29.0644 62.2958 26.3115 61.5648 24.3032C58.5873 28.2828 54.4463 29.2805 49.044 30.0567Z" fill="#003366"/>
                                            <path d="M63.0089 45.3324C62.2304 45.3324 61.6011 45.2918 61.3281 45.2708L61.451 43.8724C63.2812 44.0121 66.1908 43.9012 66.928 43.2175C66.9676 43.1873 66.9985 43.1484 67.018 43.1042C67.0375 43.06 67.0449 43.012 67.0396 42.9645C67.0632 41.9397 67.2044 40.9201 67.4606 39.9234C68.3922 35.2561 70.1262 26.5681 63.0556 20.8111C63.0385 20.7974 63.0221 20.7828 63.0065 20.7678L63.0057 20.7668C62.9693 20.7311 62.9369 20.6919 62.9093 20.6499L63.5361 20.2709L64.017 19.7324L64.0385 19.7557L64.0407 19.7534C71.7584 26.037 69.9221 35.2378 68.9355 40.181C68.7156 41.0617 68.5819 41.9593 68.536 42.8627C68.5572 43.1121 68.5187 43.3628 68.4232 43.5966C68.3277 43.8303 68.1778 44.0412 67.9842 44.214C66.9742 45.1502 64.6575 45.3324 63.0089 45.3324Z" fill="#003366"/>
                                            <path d="M50.6862 45.3324C49.141 45.3324 46.9702 45.1501 46.0227 44.2141C45.8409 44.0413 45.7001 43.8302 45.6104 43.5963C45.5207 43.3624 45.4844 43.1115 45.5041 42.8618C45.4612 41.9578 45.3358 41.0596 45.1296 40.1782C44.2042 35.2301 42.4819 26.0191 49.7303 19.7324L50.653 20.7914C44.0123 26.5513 45.6387 35.2484 46.5124 39.921C46.7527 40.9181 46.885 41.938 46.9071 42.9632C46.9022 43.0108 46.9093 43.0589 46.9276 43.1032C46.9459 43.1474 46.975 43.1864 47.0121 43.2168C47.7042 43.9011 50.4318 44.0126 52.1466 43.8719L52.2617 45.2708C52.006 45.2918 51.4158 45.3324 50.6862 45.3324Z" fill="#003366"/>
                                            <path d="M57.0612 49.5999C56.4947 49.5996 55.943 49.3813 55.4863 48.9768L51.7266 45.6689L52.574 44.2666L56.3347 47.5751C56.5448 47.7618 56.7988 47.8627 57.0597 47.8631C57.3206 47.8635 57.5748 47.7634 57.7853 47.5773L61.5453 44.2666L62.3932 45.6689L58.6328 48.9802C58.1765 49.3824 57.6262 49.5994 57.0612 49.5999Z" fill="#003366"/>
                                            <path d="M40.0013 50.666L38.9297 49.7709C39.3654 49.3644 39.8893 49.0392 40.4703 48.8148L51.5476 44.8983C51.6695 44.7529 51.7745 44.5969 51.8609 44.4329C51.8655 44.4227 51.8703 44.413 51.8756 44.4032C52.1279 43.8434 52.3098 43.2609 52.4181 42.666L53.1458 42.7771L53.863 42.9326C53.7356 43.6152 53.5228 44.2833 53.2285 44.9245C53.2246 44.933 53.2206 44.9411 53.2162 44.9496C53.0492 45.2726 52.835 45.5749 52.5791 45.8489C52.5 45.9341 52.3979 46.0002 52.2821 46.0413L41.0416 50.015C40.6493 50.1691 40.2957 50.3904 40.0013 50.666Z" fill="#003366"/>
                                            <path d="M3.61067 62.933L2.12891 62.7994C2.51915 58.8292 3.31006 53.68 3.95804 51.9356C4.18279 51.3524 4.53297 50.821 4.98589 50.3756C5.43882 49.9303 5.98439 49.581 6.58729 49.3503L17.206 45.3819C17.3177 45.3401 17.4383 45.3248 17.5575 45.3374C17.6767 45.3499 17.791 45.3898 17.8906 45.4538L22.4967 48.4064C22.7127 48.5242 22.9579 48.5839 23.2065 48.5794C23.455 48.5748 23.6976 48.5061 23.9087 48.3805L28.324 45.4594C28.4236 45.3933 28.5386 45.3516 28.659 45.3379C28.7793 45.3243 28.9014 45.3391 29.0144 45.381L39.7724 49.3475C40.2274 49.5222 40.6521 49.7617 41.0322 50.0581C41.6732 50.551 42.1596 51.2038 42.4379 51.9444C43.0845 53.6888 43.873 58.8329 44.2622 62.7994L42.7802 62.933C42.3534 58.5806 41.5707 53.8655 41.0356 52.4221C40.8484 51.9272 40.522 51.4914 40.0924 51.1629C39.8304 50.9583 39.5377 50.7927 39.2242 50.6717L28.8465 46.8457L24.7234 49.5725C24.2711 49.8441 23.7494 49.9911 23.2156 49.9973C22.6817 50.0035 22.1564 49.8687 21.6974 49.6077L17.3855 46.8443L7.1408 50.6731C6.73355 50.8281 6.36472 51.063 6.05803 51.3627C5.75135 51.6624 5.51361 52.0203 5.36011 52.4133C4.8238 53.8571 4.03895 58.5764 3.61067 62.933Z" fill="#003366"/>
                                            <path d="M11.8634 30.9331C11.812 28.821 11.7665 27.4814 11.7283 26.952C11.7271 26.9359 11.7266 26.9202 11.7266 26.9045C11.72 21.4259 14.2125 18.1482 18.394 18.1358C18.7542 18.1462 19.1073 18.0396 19.3945 17.8338C19.9521 17.5102 20.7156 17.0664 22.7859 17.0664H22.7971C27.2874 17.0664 30.5052 18.3314 32.3622 20.8265C33.5329 22.4 34.1266 24.4444 34.1266 26.9036C34.1266 26.9336 34.1246 26.9636 34.1205 26.9934C34.0752 27.3276 34.018 28.2828 34.0024 30.9317L32.5071 30.9234C32.5197 28.8012 32.5613 27.4353 32.6312 26.8617C32.6246 24.7183 32.1227 22.9621 31.1392 21.6409C29.5788 19.544 26.7716 18.4806 22.7968 18.4806H22.7864C21.1384 18.4806 20.6497 18.7646 20.177 19.039C19.6559 19.3825 19.0334 19.5613 18.3983 19.55C13.7348 19.5638 13.2229 24.6613 13.222 26.8797C13.2614 27.4455 13.3071 28.798 13.3582 30.9009L11.8634 30.9331Z" fill="#003366"/>
                                            <path d="M23.1941 43.7329C22.7351 43.7369 22.2766 43.7058 21.8232 43.6398L21.6317 43.6128C20.6272 43.551 19.6604 43.237 18.8365 42.705C18.399 42.397 17.9792 42.0683 17.5789 41.7201L17.578 41.7192L17.5596 41.7036L17.5543 41.6988C16.3911 40.7217 15.4018 39.5827 14.6226 38.3236C14.6071 38.2969 14.5937 38.2692 14.5826 38.2407L13.8006 36.2727C13.7647 36.1825 13.7056 36.1016 13.6283 36.037C12.4866 35.0431 11.8062 33.6822 11.7291 32.2383C11.7131 31.9149 11.7726 31.592 11.9039 31.2916C12.0351 30.9911 12.2348 30.72 12.4897 30.4967C12.6452 30.3705 12.8195 30.2653 13.0072 30.1843C13.1378 30.128 13.2833 30.108 13.4261 30.1266C13.5688 30.1453 13.7026 30.2018 13.8109 30.2893C13.8699 30.3328 13.939 30.3631 14.0128 30.3779C14.9242 29.4751 15.6109 28.4006 16.025 27.2291C16.2526 26.6293 16.4284 26.014 16.5507 25.3887C16.6002 25.1857 16.7126 25.0002 16.8742 24.8546C17.0359 24.7091 17.2398 24.6096 17.4616 24.5682C17.6504 24.5249 17.8476 24.5217 18.038 24.559C18.2283 24.5962 18.407 24.6728 18.5604 24.783C19.8471 25.7152 24.5135 28.6908 30.5712 27.853C30.8416 27.8157 31.1173 27.8748 31.342 28.018C31.5667 28.1613 31.7235 28.378 31.7804 28.6239C31.9003 29.1375 32.1335 29.623 32.4656 30.0505C32.6154 30.2463 32.7115 30.202 32.7164 30.1994C32.8177 30.1497 32.9302 30.1224 33.045 30.1197C33.1598 30.117 33.2737 30.139 33.3777 30.1839C33.5772 30.2688 33.7608 30.3825 33.9214 30.5206C34.1703 30.7451 34.3645 31.0155 34.4913 31.3142C34.618 31.6128 34.6744 31.9328 34.6567 32.2529C34.5735 33.6925 33.8928 35.0478 32.7551 36.0397C32.6789 36.1035 32.6208 36.1835 32.586 36.2727L31.8042 38.2408C31.7929 38.2692 31.7795 38.2968 31.7642 38.3236C30.9854 39.5828 29.9963 40.7218 28.8332 41.6988C28.8252 41.7059 28.8173 41.7125 28.8089 41.7188C28.4077 42.0679 27.987 42.3976 27.5484 42.7063C26.7234 43.2374 25.7563 43.551 24.7515 43.6132L24.5629 43.6398C24.1102 43.7058 23.6524 43.7369 23.1941 43.7329ZM18.5739 40.7121C18.9428 41.0339 19.3299 41.3377 19.7335 41.6222C20.3634 42.0103 21.0964 42.2333 21.8538 42.2672L22.0444 42.2943C22.8065 42.3978 23.581 42.3976 24.343 42.2938L24.527 42.2677C25.2858 42.2338 26.0202 42.011 26.652 41.623C27.0556 41.3389 27.4426 41.0353 27.8113 40.7135C27.8233 40.7033 27.8354 40.6931 27.8479 40.6833C28.8651 39.8235 29.736 38.8279 30.4313 37.7299L31.1955 35.8058C31.312 35.5095 31.5056 35.2441 31.7595 35.0326C32.5897 34.2993 33.0947 33.3088 33.1766 32.2529C33.1964 31.9967 33.1122 31.7429 32.9402 31.5405C32.6152 31.5849 32.2832 31.5418 31.9842 31.4165C31.6853 31.2912 31.4322 31.089 31.2555 30.8342C30.8818 30.3522 30.6006 29.8148 30.4243 29.2454C24.3297 29.9513 19.5964 27.1995 17.9181 26.0453C17.7912 26.5999 17.6252 27.1463 17.4211 27.6811C16.943 29.0358 16.1412 30.2749 15.0743 31.3074C14.8622 31.5168 14.5839 31.6595 14.2787 31.7156C13.9736 31.7716 13.657 31.7381 13.3737 31.6198C13.2565 31.8098 13.1996 32.0263 13.2094 32.2445C13.2873 33.3036 13.7927 34.2976 14.6265 35.0318C14.879 35.2448 15.0725 35.5101 15.1909 35.8058L15.9554 37.7299C16.6541 38.8318 17.5291 39.8309 18.551 40.6935C18.5587 40.6997 18.5665 40.7055 18.5739 40.7121Z" fill="#003366"/>
                                            <path d="M28.1184 45.8664C27.8904 44.3644 27.7634 42.8409 27.7388 41.3122L27.7305 41.1148L28.3533 41.0664L28.977 41.0735L28.9845 41.2301C29.009 42.6614 29.1246 44.0881 29.3305 45.4962L28.1184 45.8664Z" fill="#003366"/>
                                            <path d="M18.0809 45.8664L16.5273 45.4998C16.834 44.0394 17.0132 42.5563 17.0629 41.0664L18.6607 41.1074C18.6099 42.7071 18.4159 44.2995 18.0809 45.8664Z" fill="#003366"/>
                                            <path d="M35.7305 59.1999H34.2526V57.9049H29.2084V59.1999H27.7305V57.2191C27.7305 57.0372 27.8083 56.8627 27.9469 56.7341C28.0855 56.6055 28.2734 56.5332 28.4694 56.5332H34.9915C35.1875 56.5332 35.3754 56.6055 35.514 56.7341C35.6526 56.8627 35.7305 57.0372 35.7305 57.2191V59.1999Z" fill="#003366"/>
                                        </svg>
                                        <div class="flex flex-col gap-2">
                                            <h3 class="text-base text-primary">Referred Candidates</h3>
                                            <span class="text-primary text-3xl font-semibold">
                                                <?php echo $totalRefCount ?>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="cardItem px-6 py-5 flex gap-6 items-center bg-card3 rounded-xl w-full lg:max-w-sm shadow-shadowItem">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80" fill="none">
                                            <path d="M40 69C54.9117 69 67 56.9117 67 42C67 27.0883 54.9117 15 40 15C25.0883 15 13 27.0883 13 42C13 56.9117 25.0883 69 40 69Z" fill="#DCC2DD"/>
                                            <path d="M32.1309 59.8709C32.1084 59.2703 32.0829 58.5894 31.9881 57.7621C31.3681 52.3159 28.6699 48.3042 23.9707 45.8399C22.8067 45.2263 21.4797 43.8527 20.309 42.641C19.7787 42.0922 19.2733 41.5726 18.7728 41.108C18.8781 39.8416 18.8813 38.5688 18.7824 37.3019C18.5821 35.5353 17.5857 34.0261 16.2314 33.4426C16.1942 33.2301 16.145 33.0199 16.084 32.813C15.9169 32.1775 15.6134 31.586 15.1948 31.0794C14.7761 30.5729 14.2523 30.1635 13.6596 29.8797C13.5832 29.8474 13.5046 29.8205 13.4244 29.7991C13.1492 29.7232 12.8659 29.6807 12.5806 29.6725C12.1952 29.1646 11.6865 28.7635 11.1028 28.5071L11.103 28.5064L11.099 28.5051L11.0977 28.5044C10.8081 28.3727 10.4842 28.336 10.1724 28.3993C9.8606 28.4625 9.57674 28.6227 9.36135 28.8568C9.0709 29.1271 8.88012 29.4874 8.81987 29.8795L8.07119 35.8045C8.05749 35.903 8.0523 36.0024 8.0557 36.1018C8.18048 39.2044 8.54284 42.2929 9.13958 45.3402C9.22147 45.8119 9.37876 46.2674 9.6054 46.6891C9.76389 46.9843 9.95399 47.2614 10.1724 47.5155C13.7587 51.8476 15.8971 54.1197 19.1341 57.5586L20.6421 59.1621C21.2373 59.874 21.6772 60.7023 21.9338 61.5941L22.5045 63.8929L23.9097 63.544L23.3391 61.2464C23.025 60.1128 22.4643 59.0627 21.6972 58.1711L20.1881 56.5665C16.9704 53.1475 14.8446 50.889 11.2785 46.5818C10.9122 46.1571 10.666 45.6423 10.5654 45.0906C9.98104 42.1096 9.6257 39.0882 9.50246 36.0529L9.50601 35.9957L10.25 30.1C10.2595 30.0325 10.2915 29.9701 10.3407 29.923C10.4226 29.8473 10.4635 29.8198 10.4628 29.8135C10.4879 29.8195 10.5124 29.8278 10.536 29.8384L10.8195 29.1724L10.5413 29.8404C10.9902 30.0452 11.3667 30.3808 11.6215 30.8034C11.9514 31.3224 12.1586 31.9099 12.2272 32.5211C12.3338 33.8702 12.3106 35.2264 12.1577 36.5711C12.1199 36.823 12.1362 37.0802 12.2054 37.3253L13.0028 40.1186C12.7757 40.482 12.65 40.8995 12.6389 41.3278C12.6277 41.7562 12.7315 42.1796 12.9394 42.5543C13.0373 42.7365 13.155 42.9073 13.2904 43.0636L19.8895 50.7155L20.9858 49.7702L14.3867 42.1183C14.2012 41.9366 14.0934 41.69 14.086 41.4305C14.0786 41.1709 14.1721 40.9185 14.347 40.7265C14.4606 40.5982 14.6062 40.5022 14.7689 40.4483C15.1004 40.3705 15.4492 40.4232 15.7429 40.5957C16.3908 40.9576 16.9881 41.4036 17.5193 41.9219L17.5588 41.9558C18.0772 42.4142 18.6553 43.013 19.2677 43.6469C20.514 44.9368 21.9269 46.3988 23.2972 47.121C27.5472 49.3497 29.9882 52.9844 30.5498 57.9264C30.6383 58.6991 30.6618 59.3225 30.6844 59.9253C30.6911 60.9032 30.805 61.8776 31.0242 62.8307L32.4302 62.4872C32.2351 61.6287 32.1348 60.7513 32.1309 59.8709ZM13.5893 36.7871C13.7619 35.3204 13.7879 33.8401 13.667 32.3683C13.6267 32.0462 13.5587 31.7281 13.4637 31.4177C14.0672 31.8661 14.502 32.5048 14.698 33.2306C14.7561 33.4243 14.8003 33.6218 14.8304 33.8218C14.8437 33.9154 14.8553 34.0209 14.8672 34.1359C14.9904 35.3773 15.0017 36.6273 14.901 37.8708C14.8728 38.1227 14.8986 38.3777 14.9768 38.6187L15.0915 38.9728C14.832 38.9627 14.5727 38.9958 14.3241 39.0707C14.2887 39.0822 14.2556 39.099 14.2209 39.1121L13.5992 36.9344C13.5854 36.8865 13.582 36.8363 13.5893 36.7871ZM16.7937 39.5291L16.354 38.1718C16.3394 38.1265 16.3345 38.0786 16.3397 38.0313C16.4228 37.1252 16.4415 36.2144 16.3958 35.3056C16.9316 35.9024 17.2632 36.6544 17.3425 37.4524C17.4063 38.2776 17.4237 39.1058 17.3946 39.933C17.2014 39.7882 17.0008 39.6534 16.7937 39.5291Z" fill="#003366"/>
                                            <path d="M47.5781 62.4872L48.9841 62.8307C49.2033 61.8775 49.3172 60.9032 49.3239 59.9252C49.3465 59.3225 49.37 58.6991 49.4585 57.9264C50.0201 52.9844 52.4612 49.3496 56.7112 47.121C58.0815 46.3988 59.4943 44.9367 60.7407 43.6468C61.3531 43.013 61.9312 42.4142 62.4495 41.9558L62.4891 41.9219C63.0203 41.4035 63.6175 40.9576 64.2655 40.5956C64.5592 40.4232 64.9079 40.3704 65.2395 40.4483C65.4022 40.5022 65.5477 40.5982 65.6613 40.7265C65.8362 40.9185 65.9298 41.1708 65.9224 41.4304C65.915 41.69 65.8072 41.9366 65.6216 42.1183L59.0225 49.7702L60.1188 50.7154L66.7178 43.0635C66.8533 42.9072 66.971 42.7364 67.0689 42.5542C67.2768 42.1796 67.3806 41.7561 67.3694 41.3278C67.3583 40.8994 67.2326 40.4819 67.0055 40.1186L67.8029 37.3253C67.8721 37.0801 67.8884 36.823 67.8505 36.5711C67.6977 35.2264 67.6744 33.8702 67.7811 32.521C67.8497 31.9098 68.0569 31.3224 68.3868 30.8033C68.6415 30.3808 69.0181 30.0451 69.467 29.8404L69.1888 29.1724L69.4723 29.8384C69.4959 29.8278 69.5204 29.8195 69.5455 29.8135C69.5448 29.8198 69.5857 29.8473 69.6675 29.923C69.7168 29.9701 69.7488 30.0324 69.7583 30.0999L70.5023 35.9957L70.5058 36.0529C70.3826 39.0882 70.0273 42.1095 69.4429 45.0906C69.3423 45.6423 69.0961 46.1571 68.7298 46.5817C65.1638 50.8889 63.0379 53.1475 59.8202 56.5665L58.3111 58.171C57.544 59.0626 56.9833 60.1128 56.6692 61.2463L56.0986 63.544L57.5037 63.8929L58.0745 61.594C58.3311 60.7023 58.771 59.874 59.3662 59.1621L60.8742 57.5586C64.1111 54.1197 66.2496 51.8476 69.8359 47.5155C70.0543 47.2614 70.2444 46.9843 70.4029 46.6891C70.6295 46.2674 70.7868 45.8119 70.8687 45.3402C71.4655 42.2929 71.8278 39.2044 71.9526 36.1018C71.956 36.0024 71.9508 35.903 71.9371 35.8045L71.1884 29.8795C71.1282 29.4874 70.9374 29.1271 70.647 28.8568C70.4316 28.6227 70.1477 28.4625 69.8359 28.3993C69.5241 28.336 69.2003 28.3729 68.9107 28.5046L68.9093 28.505L68.9053 28.5063L68.9055 28.507C68.3218 28.7634 67.8131 29.1645 67.4277 29.6724C67.1424 29.6806 66.8591 29.7231 66.5839 29.799C66.5037 29.8204 66.4251 29.8473 66.3487 29.8796C65.756 30.1634 65.2322 30.5728 64.8135 31.0793C64.3949 31.5859 64.0914 32.1774 63.9243 32.813C63.8633 33.0199 63.8141 33.2301 63.7769 33.4425C62.4226 34.026 61.4262 35.5352 61.2259 37.3018C61.127 38.5687 61.1302 39.8415 61.2355 41.1079C60.735 41.5725 60.2296 42.0921 59.6993 42.6409C58.5286 43.8526 57.2016 45.2262 56.0376 45.8398C51.3384 48.3041 48.6402 52.3159 48.0202 57.7621C47.9254 58.5894 47.8999 59.2703 47.8774 59.8709C47.8735 60.7513 47.7732 61.6286 47.5781 62.4872ZM66.409 36.9343L65.7874 39.112C65.7527 39.0989 65.7196 39.0822 65.6842 39.0707C65.4356 38.9957 65.1763 38.9626 64.9168 38.9728L65.0315 38.6187C65.1097 38.3776 65.1355 38.1226 65.1073 37.8707C65.0066 36.6273 65.0179 35.3773 65.1411 34.1359C65.153 34.0209 65.1646 33.9154 65.1779 33.8218C65.208 33.6218 65.2522 33.4242 65.3103 33.2306C65.5063 32.5047 65.9412 31.8661 66.5447 31.4177C66.4496 31.7281 66.3816 32.0461 66.3414 32.3682C66.2204 33.8401 66.2465 35.3203 66.4191 36.787C66.4263 36.8363 66.4229 36.8865 66.409 36.9343ZM62.6137 39.9329C62.5846 39.1057 62.602 38.2776 62.6658 37.4524C62.7451 36.6543 63.0767 35.9023 63.6125 35.3056C63.5668 36.2144 63.5855 37.1252 63.6686 38.0313C63.6738 38.0786 63.6689 38.1264 63.6543 38.1717L63.2146 39.5291C63.0075 39.6533 62.8069 39.7881 62.6137 39.9329Z" fill="#003366"/>
                                            <path opacity="0.8" d="M45.98 42.6496C44.1386 44.494 42.1797 46.2173 40.1156 47.8086L40.0034 47.8949L39.8911 47.8087C37.8268 46.2265 35.8684 44.5106 34.0285 42.6723C29.9271 38.5398 27.7601 34.8694 27.7617 32.0578C27.7639 28.2391 30.5639 25.3594 34.2747 25.3594C35.1461 25.3836 36.0009 25.6033 36.7759 26.0023C37.2048 26.2105 37.6169 26.4516 38.0087 26.7233C38.2609 26.8974 38.5104 27.0873 38.7502 27.2877L40.003 27.5743C40.003 27.5743 37.8607 28.6426 37.8676 28.8531C38.0203 29.1998 38.3025 29.4731 38.6539 29.6145C38.7617 29.6144 38.8683 29.5922 38.9672 29.5493C39.0661 29.5065 39.1551 29.4438 39.2289 29.3653L40.5646 27.9279C41.7266 26.743 43.7779 25.3594 45.7352 25.3594C49.4418 25.3594 52.2401 28.2393 52.2443 32.0583C52.2473 34.8444 50.0812 38.5068 45.98 42.6496Z" fill="#BA91C8"/>
                                            <path d="M51.1118 26.5643C50.3874 25.8189 49.5191 25.2286 48.5595 24.8292C47.6 24.4297 46.5693 24.2295 45.53 24.2407C43.0768 24.2407 40.9288 25.8597 40.1192 26.5558L40.0033 26.6554L39.8874 26.5559C39.585 26.2958 39.269 26.0518 38.9409 25.825C38.4984 25.5183 38.0328 25.2463 37.5483 25.0114C36.5955 24.5266 35.5455 24.2631 34.4767 24.2407C33.4371 24.2296 32.406 24.4298 31.4461 24.8291C30.4862 25.2285 29.6174 25.8187 28.8924 26.564C27.4463 28.089 26.6514 30.1175 26.6764 32.219C26.6754 33.9951 27.3753 35.999 28.7566 38.1751C30.0358 40.1172 31.5184 41.9175 33.1793 43.5453C35.1677 45.5369 37.2999 47.3796 39.5587 49.0583C39.6885 49.1521 39.8445 49.2024 40.0045 49.2021C40.1646 49.2019 40.3205 49.151 40.4499 49.0569C42.707 47.3687 44.8385 45.5188 46.8275 43.5218C51.1434 39.1667 53.33 35.3638 53.3265 32.2186C53.3506 30.1177 52.5563 28.0899 51.1118 26.5643ZM45.766 42.4353C43.99 44.2141 42.1008 45.8762 40.11 47.4109L40.0019 47.4942L39.8935 47.4111C37.9026 45.885 36.0138 44.2302 34.2392 42.4571C30.2836 38.4716 28.1936 34.9316 28.1951 32.2198C28.1972 28.5368 30.8977 25.7595 34.4767 25.7595C35.3171 25.7828 36.1415 25.9947 36.8889 26.3795C37.3026 26.5803 37.7002 26.8128 38.078 27.0749C38.3213 27.2428 38.5619 27.426 38.7931 27.6192L38.9375 27.7397L38.1461 28.585C38.0449 28.6931 37.9775 28.8284 37.9522 28.9742C37.9269 29.1201 37.9448 29.2702 38.0037 29.406C38.0626 29.5419 38.1599 29.6575 38.2837 29.7388C38.4074 29.82 38.5522 29.8633 38.7003 29.8634C38.8042 29.8632 38.907 29.8418 39.0024 29.8005C39.0978 29.7592 39.1837 29.6988 39.2548 29.623L40.5431 28.2367C41.6638 27.0939 43.6423 25.7595 45.53 25.7595C49.1049 25.7595 51.8037 28.537 51.8077 32.2203C51.8107 34.9074 49.7215 38.4397 45.766 42.4353Z" fill="#003366"/>
                                            <path d="M40.0125 50.0381C39.9149 50.0381 39.8183 50.0573 39.7282 50.0946C39.638 50.132 39.5561 50.1867 39.4871 50.2557C39.4181 50.3247 39.3634 50.4066 39.3261 50.4967C39.2887 50.5869 39.2695 50.6835 39.2695 50.781V54.7565C39.2695 54.9535 39.3478 55.1425 39.4871 55.2818C39.6265 55.4212 39.8154 55.4994 40.0125 55.4994C40.2095 55.4994 40.3985 55.4212 40.5378 55.2818C40.6772 55.1425 40.7554 54.9535 40.7554 54.7565V50.781C40.7554 50.6835 40.7362 50.5869 40.6989 50.4967C40.6615 50.4066 40.6068 50.3247 40.5378 50.2557C40.4688 50.1867 40.3869 50.132 40.2968 50.0946C40.2067 50.0573 40.1101 50.0381 40.0125 50.0381Z" fill="#003366"/>
                                            <path d="M32.5704 46.5898C32.3959 46.4983 32.1922 46.4799 32.0041 46.5386C31.816 46.5973 31.6589 46.7284 31.5674 46.9029L29.7217 50.4238C29.6764 50.5103 29.6485 50.6047 29.6397 50.7019C29.631 50.7991 29.6414 50.897 29.6705 50.9902C29.6995 51.0833 29.7467 51.1698 29.8092 51.2447C29.8717 51.3196 29.9483 51.3815 30.0347 51.4268C30.1211 51.4721 30.2156 51.4999 30.3128 51.5087C30.41 51.5175 30.5079 51.5071 30.601 51.478C30.6942 51.4489 30.7807 51.4018 30.8556 51.3393C30.9305 51.2768 30.9924 51.2002 31.0377 51.1137L32.8835 47.5928C32.9288 47.5064 32.9566 47.4119 32.9654 47.3147C32.9742 47.2175 32.9637 47.1196 32.9347 47.0265C32.9056 46.9333 32.8585 46.8468 32.796 46.7719C32.7335 46.697 32.6568 46.6351 32.5704 46.5898Z" fill="#003366"/>
                                            <path d="M48.4556 46.9029C48.4103 46.8165 48.3485 46.7399 48.2736 46.6774C48.1986 46.6149 48.1121 46.5677 48.019 46.5387C47.9259 46.5096 47.8279 46.4991 47.7308 46.5079C47.6336 46.5167 47.5391 46.5446 47.4527 46.5899C47.3663 46.6351 47.2896 46.697 47.2271 46.7719C47.1646 46.8469 47.1175 46.9334 47.0884 47.0265C47.0594 47.1196 47.0489 47.2176 47.0577 47.3147C47.0665 47.4119 47.0943 47.5064 47.1396 47.5928L48.9854 51.1138C49.0307 51.2002 49.0926 51.2768 49.1675 51.3393C49.2424 51.4018 49.3289 51.449 49.4221 51.478C49.5152 51.5071 49.6131 51.5175 49.7103 51.5088C49.8075 51.5 49.902 51.4721 49.9884 51.4268C50.0748 51.3815 50.1514 51.3197 50.2139 51.2448C50.2764 51.1698 50.3236 51.0833 50.3526 50.9902C50.3817 50.8971 50.3922 50.7991 50.3834 50.7019C50.3746 50.6048 50.3468 50.5103 50.3015 50.4239L48.4556 46.9029Z" fill="#003366"/>
                                            <path d="M47.4527 23.6074C47.5391 23.6527 47.6336 23.6806 47.7308 23.6894C47.8279 23.6982 47.9259 23.6878 48.0191 23.6587C48.1122 23.6296 48.1987 23.5825 48.2736 23.52C48.3485 23.4574 48.4104 23.3807 48.4556 23.2943L50.3014 19.7733C50.3922 19.5989 50.4101 19.3956 50.3512 19.208C50.2923 19.0203 50.1614 18.8637 49.9873 18.7724C49.8131 18.6811 49.6099 18.6626 49.4221 18.7209C49.2343 18.7792 49.0773 18.9095 48.9854 19.0834L47.1396 22.6044C47.0943 22.6908 47.0665 22.7853 47.0577 22.8825C47.0489 22.9796 47.0594 23.0776 47.0884 23.1707C47.1175 23.2638 47.1646 23.3503 47.2271 23.4253C47.2896 23.5002 47.3663 23.5621 47.4527 23.6074Z" fill="#003366"/>
                                            <path d="M31.5675 23.2944C31.6126 23.3811 31.6744 23.458 31.7493 23.5207C31.8243 23.5834 31.9108 23.6308 32.0041 23.66C32.0973 23.6892 32.1954 23.6998 32.2927 23.6911C32.3901 23.6823 32.4847 23.6545 32.5713 23.6091C32.6578 23.5637 32.7345 23.5017 32.7971 23.4267C32.8596 23.3516 32.9068 23.2649 32.9358 23.1716C32.9648 23.0783 32.9751 22.9802 32.9661 22.8829C32.9571 22.7855 32.9291 22.691 32.8835 22.6045L31.0377 19.0835C30.9462 18.909 30.7891 18.778 30.601 18.7193C30.4129 18.6606 30.2092 18.679 30.0347 18.7705C29.8602 18.862 29.7292 19.019 29.6705 19.2071C29.6118 19.3952 29.6302 19.5989 29.7217 19.7734L31.5675 23.2944Z" fill="#003366"/>
                                            <path d="M40.0125 21.0971C40.1101 21.0971 40.2067 21.0779 40.2968 21.0405C40.3869 21.0032 40.4688 20.9485 40.5378 20.8795C40.6068 20.8105 40.6615 20.7286 40.6989 20.6385C40.7362 20.5483 40.7554 20.4517 40.7554 20.3541V16.3787C40.7554 16.1817 40.6772 15.9927 40.5378 15.8533C40.3985 15.714 40.2095 15.6357 40.0125 15.6357C39.8154 15.6357 39.6265 15.714 39.4871 15.8533C39.3478 15.9927 39.2695 16.1817 39.2695 16.3787V20.3541C39.2695 20.4517 39.2887 20.5483 39.3261 20.6385C39.3634 20.7286 39.4181 20.8105 39.4871 20.8795C39.5561 20.9485 39.638 21.0032 39.7282 21.0405C39.8183 21.0779 39.9149 21.0971 40.0125 21.0971Z" fill="#003366"/>
                                          </svg>
                                        <div class="flex flex-col gap-2">
                                            <h3 class="text-base text-primary">My Candidates Succeed</h3>
                                            <span class="text-primary text-3xl font-semibold">
                                                <?php echo $totalRefSucceed ?>
                                            </span>
                                        </div>
                                    </div>
    
                                </div>
    
                                <div class="grid grid-cols-1 lg:grid-cols-10 gap-y-4 lg:gap-4">
                                    <div class="col-span-7 bg-white p-6 rounded-xl shadow-shadowItem">
                                        <div class="flex flex-col gap-6">
                                            <span class="text-textColor font-medium text-xl">New Candidates Involved</span>
<!--                                            <div class="chart-container w-full flex" style="height:326px; width: 100%; background-position: center; background-image:url('https://staging.childfreebc.com/wp-content/uploads/2023/11/foo1.svg'); background-size: cover; background-repeat: no-repeat;">-->
                                            <div class="chart-container w-full flex" style="height:326px; width: 100%; background-position: center; background-image:url('https://childfreebc.com/wp-content/uploads/2023/11/foo1.svg'); background-size: cover; background-repeat: no-repeat;">
                                            </div>
                                        </div>
                                    </div>
                                    <?php if($totalRefCount != 0) {
                                        ?>
                                    <div class="col-span-3 bg-white p-6 rounded-xl shadow-shadowItem h-fit"> 
                                        <div class="flex flex-col gap-6">
                                            <span class="text-textColor font-medium text-xl">Latest Referred Candidates Registered</span>
                                            <div class="flex flex-col">
                                                    <div class="flex gap-4 flex-col sm:flex-row"> 
                                                        <div class="w-12 h-12 rounded-md mask mask-squircle"><?php echo $ref_user_image ?></div>
                                                        <div class="flex flex-col gap-1">
                                                            <span class="text-primary text-base font-normal"><?php echo $ref_user_name ?></span>
                                                            <span class="flex text-sm font-normal text-info gap-2" style="color: #8497AB !important">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
                                                                    <path d="M13 2.5H11.5V2C11.5 1.86739 11.4473 1.74021 11.3536 1.64645C11.2598 1.55268 11.1326 1.5 11 1.5C10.8674 1.5 10.7402 1.55268 10.6464 1.64645C10.5527 1.74021 10.5 1.86739 10.5 2V2.5H5.5V2C5.5 1.86739 5.44732 1.74021 5.35355 1.64645C5.25979 1.55268 5.13261 1.5 5 1.5C4.86739 1.5 4.74021 1.55268 4.64645 1.64645C4.55268 1.74021 4.5 1.86739 4.5 2V2.5H3C2.73478 2.5 2.48043 2.60536 2.29289 2.79289C2.10536 2.98043 2 3.23478 2 3.5V13.5C2 13.7652 2.10536 14.0196 2.29289 14.2071C2.48043 14.3946 2.73478 14.5 3 14.5H13C13.2652 14.5 13.5196 14.3946 13.7071 14.2071C13.8946 14.0196 14 13.7652 14 13.5V3.5C14 3.23478 13.8946 2.98043 13.7071 2.79289C13.5196 2.60536 13.2652 2.5 13 2.5ZM4.5 3.5V4C4.5 4.13261 4.55268 4.25979 4.64645 4.35355C4.74021 4.44732 4.86739 4.5 5 4.5C5.13261 4.5 5.25979 4.44732 5.35355 4.35355C5.44732 4.25979 5.5 4.13261 5.5 4V3.5H10.5V4C10.5 4.13261 10.5527 4.25979 10.6464 4.35355C10.7402 4.44732 10.8674 4.5 11 4.5C11.1326 4.5 11.2598 4.44732 11.3536 4.35355C11.4473 4.25979 11.5 4.13261 11.5 4V3.5H13V5.5H3V3.5H4.5ZM13 13.5H3V6.5H13V13.5Z" fill="#8497AB"></path>
                                                                </svg>
                                                                <?php echo $formatted_ref_order_date ?>
                                                            </span>
                                                        </div>
                                                        <div class="flex flex-col gap-1 items-end">
                                                            <!-- ToDo render from orders -->
                                                            <span class="text-base font-medium text-primary"><span class="text-primary font-medium text-sm">$<?php echo $ref_product_raised ?></span>(<?php echo ' ' . round(($ref_product_raised / $refproduct->get_goal()) * 100) . '%'; ?>)</span>
                                                            <span class="text-base text-info">Your share</span>
                                                        </div>
                                                    </div>
                                                
                                            </div>
                                            <button class="w-full px-4 py-2.5 text-base bg-white rounded-lg border border-primary text-primary font-medium viewBtn hover:bg-white hover:text-primary hover:scale-105">View All</button>
                                        </div>
                                    </div>
                                    <?php
                                        }else {
                                            echo '';
                                        }
                                    ?> 
                                    <div class="col-span-7 bg-white p-6 rounded-xl shadow-shadowItem">
                                        <div class="flex flex-col gap-6">
                                            <span class="text-textColor font-medium text-xl">Credit Received Statistics</span>
<!--                                            <div class="chart-container w-full flex" style="height:326px; width: 100%; background-position: center; background-image:url('https://staging.childfreebc.com/wp-content/uploads/2023/11/foo1.svg'); background-size: cover; background-repeat: no-repeat;">-->
                                            <div class="chart-container w-full flex" style="height:326px; width: 100%; background-position: center; background-image:url('https://childfreebc.com/wp-content/uploads/2023/11/foo1.svg'); background-size: cover; background-repeat: no-repeat;">
                                            </div>
                                        </div>
                                    </div>
                                    <?php 
                                        if($totalRefSucceed != 0) {
                                            ?>
                                            <div class="col-span-3 bg-white p-6 rounded-xl shadow-shadowItem h-fit"> 
                                                <div class="flex flex-col gap-6">
                                                    <span class="text-textColor font-medium text-xl">Latest Candidates Succeeded</span>
                                                    <div class="flex flex-col">
                                                        <div class="flex gap-4"> 
                                                            <div class="w-12 h-12 rounded-md mask mask-squircle"><?php echo $ref_user_image ?></div>
                                                            <div class="flex flex-col gap-1">
                                                                <span class="text-primary text-base font-normal">Darlene Robertson</span>
                                                                <span class="flex text-sm font-normal text-info gap-2" style="color: #8497AB !important">
                                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
                                                                        <path d="M13 2.5H11.5V2C11.5 1.86739 11.4473 1.74021 11.3536 1.64645C11.2598 1.55268 11.1326 1.5 11 1.5C10.8674 1.5 10.7402 1.55268 10.6464 1.64645C10.5527 1.74021 10.5 1.86739 10.5 2V2.5H5.5V2C5.5 1.86739 5.44732 1.74021 5.35355 1.64645C5.25979 1.55268 5.13261 1.5 5 1.5C4.86739 1.5 4.74021 1.55268 4.64645 1.64645C4.55268 1.74021 4.5 1.86739 4.5 2V2.5H3C2.73478 2.5 2.48043 2.60536 2.29289 2.79289C2.10536 2.98043 2 3.23478 2 3.5V13.5C2 13.7652 2.10536 14.0196 2.29289 14.2071C2.48043 14.3946 2.73478 14.5 3 14.5H13C13.2652 14.5 13.5196 14.3946 13.7071 14.2071C13.8946 14.0196 14 13.7652 14 13.5V3.5C14 3.23478 13.8946 2.98043 13.7071 2.79289C13.5196 2.60536 13.2652 2.5 13 2.5ZM4.5 3.5V4C4.5 4.13261 4.55268 4.25979 4.64645 4.35355C4.74021 4.44732 4.86739 4.5 5 4.5C5.13261 4.5 5.25979 4.44732 5.35355 4.35355C5.44732 4.25979 5.5 4.13261 5.5 4V3.5H10.5V4C10.5 4.13261 10.5527 4.25979 10.6464 4.35355C10.7402 4.44732 10.8674 4.5 11 4.5C11.1326 4.5 11.2598 4.44732 11.3536 4.35355C11.4473 4.25979 11.5 4.13261 11.5 4V3.5H13V5.5H3V3.5H4.5ZM13 13.5H3V6.5H13V13.5Z" fill="#8497AB"></path>
                                                                    </svg>
                                                                    <?php echo $formatted_ref_order_date ?>
                                                                </span>
                                                            </div>
                                                        </div>
                                                        <div class="flex flex-col gap-1 items-end">
                                                            <span class="text-base font-medium text-primary"><span class="text-success font-normal text-sm"><?php echo $order_total ?></span> (0%)</span>
                                                            <span class="text-base text-info">Your share</span>
                                                        </div>
                                                    </div>
                                                    <button class="w-full px-4 py-2.5 text-base bg-white rounded-lg border border-primary text-primary font-medium viewBtn hover:bg-white hover:text-primary hover:scale-105">View All</button>
                                                </div>
                                            </div>
                                    <?php
                                        } else {
                                            echo '';
                                        }
                                    ?>

    
                                    <div class="col-span-7 bg-white p-6 shadow-shadowItem rounded-xl">
                                        
                                        <div class="flex flex-col gap-6">
                                            <div class="flex w-full justify-between items-center">
                                                <span class="text-textColor font-medium text-xl">Referred Candidates Status</span>
                                                <button class="px-4 py-2.5 text-base bg-white rounded-lg border border-primary text-primary font-medium viewBtn hover:bg-white hover:text-primary hover:scale-105">View All</button>
                                            </div>

                                            <?php
                                            if(!$productsRef->have_posts()) {
                                                echo '<div class="my-4 flex w-full flex-col ga justify-center items-center">
                                                        <img src="/wp-content/uploads/2023/12/no-data2.svg" alt="no data"
                                                        <span class="text-3xl text-textValue mt-2 mb-8">
                                                            You have no active candidates.
                                                        </span>                                                       
                                                    </div>';
                                            } else {
                                            ?>
                                            <div class="overflow-x-auto" style="border-radius: 8px 8px 0 0;">
                                                <table class="table">
                                                    <thead>
                                                    <tr class="text-xs font-semibold bg-primary bg-opacity-5 text-info border-b border-borderColor h-14">
                                                        <th>Candidate</th>
                                                        <th>Progress</th>
                                                        <th>My Share </th>
                                                        <th>Status</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <?php
                                                    $payout_status = '';
                                                    $affiliate_id = $wpdb->get_var(
                                                        $wpdb->prepare(
                                                            "SELECT affiliate_id FROM {$wpdb->prefix}affiliate_wp_affiliates WHERE user_id = %d",
                                                            $user_id
                                                        )
                                                    );
                                                    $referral_donors = $wpdb->get_results(
                                                        $wpdb->prepare(
                                                            "SELECT * FROM {$wpdb->prefix}affiliate_wp_referrals WHERE affiliate_id = %d",
                                                            $affiliate_id
                                                        )
                                                    );
                                                    if ($productsRef->have_posts()) {
                                                        foreach ($productsRef->get_posts() as $post) {
                                                            $product_id = $post->ID;
                                                            $refproduct = wc_get_product($product_id);
                                                            $referredPerson = $refproduct->get_referred_person();

                                                            if ($referredPerson === $user_name) {
                                                                $totalRefCount++;
                                                                $ref_product_raised = $refproduct->get_amount_raised();
                                                                $ref_product_goal = $refproduct->get_goal();
                                                                $ref_user_image = $refproduct->get_image();
                                                                $ref_user_name = $refproduct->get_name();
                                                                $ref_user_id = $refproduct->get_user_id();
                                                                $ref_product_slug = $refproduct->get_slug();
                                                                $unpaid_earnings = 0;
                                                                $foundReferral = false; // Initialize foundReferral here

                                                                if ($ref_product_raised >= $ref_product_goal) {
                                                                    $totalRefSucceed++;
                                                                }

                                                                foreach ($referral_donors as $referral_donor) {
                                                                    if ($referral_donor->description === $ref_user_name) {
                                                                        $foundReferral = true; // Set foundReferral to true if found
                                                                        $donor = $referral_donor; // Use the current referral_donor
                                                                        // Update unpaid_earnings if a referral was found
                                                                        $unpaid_earnings = $donor->amount;
                                                                        $payout_status = $donor->status;
                                                                        break; // No need to continue searching once found
                                                                    }
                                                                }

                                                                ?>
                                                                <tr class="h-14 border-0 bg-white">
                                                                    <td>
                                                                        <div class="flex items-center space-x-4">
                                                                            <div class="avatar">
                                                                                <div class="mask mask-squircle w-6 h-6">
                                                                                    <?php echo $ref_user_image ?>
                                                                                </div>
                                                                            </div>
                                                                            <div>
                                                                                <div class="font-normal text-primary text-base underline cursor-pointer whitespace-nowrap">
                                                                                    <a href="/candidates/<?php echo $ref_product_slug ?>"><?php echo $ref_user_name ?></a>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="flex gap-2 items-center">
                                                                            <span class="text-sm font-medium text-textColor whitespace-nowrap">$<?php echo number_format($ref_product_raised) ?> raised</span>
                                                                            <progress class="progress progress-primary w-36" value="<?php echo ($ref_product_raised / $ref_product_goal) * 100 ?>" max="100"></progress>
                                                                            <span class="text-sm font-medium text-textValue whitespace-nowrap">of $<?php echo number_format($ref_product_goal) ?></span>
                                                                        </div>
                                                                    </td>
                                                                    <td class="text-left">
                                                                <span class="text-sm font-medium text-textColor whitespace-nowrap">
                                                                    <?php echo '$' . number_format($unpaid_earnings, 2); ?>
                                                                </span>
                                                                    </td>
                                                                    <td class="text-left">
                                                                        <div class="badge badge-outline <?php
                                                                        if ($unpaid_earnings > 0 && $payout_status === 'unpaid') {
                                                                            echo 'bg-alert badge-warning text-alert border-alert ';
                                                                        }
                                                                        elseif ($unpaid_earnings > 0 && $payout_status === 'paid') {
                                                                            echo 'bg-success badge-success text-success border-success ';
                                                                        }
                                                                        else {
                                                                            echo '';
                                                                        }
                                                                        ?> bg-opacity-10 text-xs font-medium p-3 whitespace-nowrap">
                                                                            <?php
                                                                            if ($unpaid_earnings > 0) {
                                                                                echo ucwords($payout_status);
                                                                            } else {
                                                                                echo 'Not Applicable';
//                                                                                echo ($ref_product_raised / $ref_product_goal) * 100 === 100 ? 'Completed' : 'In progress';
                                                                            }
                                                                            ?>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                <?php
                                                            }
                                                        }
                                                        wp_reset_postdata();
                                                    }
                                                    }
                                                    ?>
                                                    </tbody>

                                                </table>
                                            </div>
                                        </div>          
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                    </div>
    
                    <div id="tab2" class="hidden">
                        <div class="flex w-full flex-col justify-between mb-8">
                            <h1 class="text-3xl font-medium text-textColor mb-8 pl-20 xl:pl-0">Advocate Information</h1>
                            
                            <div class="mb-8 w-full flex gap-6 flex-col xl:flex-row">
                                <div class="p-4 flex flex-col gap-1 xl:max-w-2xl w-full rounded-xl shadow-shadowItem" style="background: #EDF3FE;">
                                    <h3 class="text-xl font-medium text-primary">Your unique advocate <span class="color: #0B46A0;">link and QR code</span></h3>
                                    <p class="text-textColor text-xs font-medium max-w-xl">Lorem ipsum dolor sit amet consectetur adipiscing elit Ut et massa mi. Aliquam in hendrerit urna. Pellentesque sit amet sapien fringilla, mattis ligula consectetur, ultrices mauris. Maecenas vitae mattis tellus. Nullam quis imperdiet augue. </p>
                                    <div class="flex gap-2 items-center text-primary">
                                        <span>You receive</span>
                                        <span class="py-1 px-2.5 bg-accentBg rounded-full font-medium" style="color: #8802A9;"><?php echo (!$acc_receive ? 0 : '$' . $acc_receive) ?>%</span>
                                        <span>of the Candidates goal Amount.</span>
                                    </div>
                                </div>
                                <div class="w-full flex flex-col gap-6 justify-center items-start py-5 px-6 rounded-xl shadow-shadowItem xl:max-w-xs" style="background: #F2E5FF;">
                                    <h3 class="text-base text-primary">Total Candidates Referred</h3>
                                    <span class="font-semibold text-primary text-2xl">
                                        <?php echo $totalRefCount ?>
                                    </span>
                                </div>
    
                                <div class="w-full flex flex-col gap-6 justify-center items-start py-5 px-6 rounded-xl shadow-shadowItem xl:max-w-xs" style="background: #FEF4EA;">
                                    <h3 class="text-base text-primary">Raised with referrals</h3>
                                    <span class="font-semibold text-primary text-2xl">
                                        <?php echo '$' . number_format($total_unpaid_earnings, 2); ?>
                                    </span>
                                </div>
                            </div> 
    
                            <div class="flex flex-col gap-3 mb-8">
                                <span class="text-base text-textColor">Your QR code</span>
                                <div class="flex gap-4 items-center flex-col md:flex-row">
                                    <div id="qr_code"></div>
                                    <button class="btn bg-primary border-0 text-white hover:scale-105" id="downloadQR">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                            <path d="M21 14.25V19.5C21 19.8978 20.842 20.2794 20.5607 20.5607C20.2794 20.842 19.8978 21 19.5 21H4.5C4.10218 21 3.72064 20.842 3.43934 20.5607C3.15804 20.2794 3 19.8978 3 19.5V14.25C3 14.0511 3.07902 13.8603 3.21967 13.7197C3.36032 13.579 3.55109 13.5 3.75 13.5C3.94891 13.5 4.13968 13.579 4.28033 13.7197C4.42098 13.8603 4.5 14.0511 4.5 14.25V19.5H19.5V14.25C19.5 14.0511 19.579 13.8603 19.7197 13.7197C19.8603 13.579 20.0511 13.5 20.25 13.5C20.4489 13.5 20.6397 13.579 20.7803 13.7197C20.921 13.8603 21 14.0511 21 14.25ZM11.4694 14.7806C11.539 14.8504 11.6217 14.9057 11.7128 14.9434C11.8038 14.9812 11.9014 15.0006 12 15.0006C12.0986 15.0006 12.1962 14.9812 12.2872 14.9434C12.3783 14.9057 12.461 14.8504 12.5306 14.7806L16.2806 11.0306C16.3503 10.9609 16.4056 10.8782 16.4433 10.7872C16.481 10.6961 16.5004 10.5985 16.5004 10.5C16.5004 10.4015 16.481 10.3039 16.4433 10.2128C16.4056 10.1218 16.3503 10.0391 16.2806 9.96937C16.2109 9.89969 16.1282 9.84442 16.0372 9.8067C15.9461 9.76899 15.8485 9.74958 15.75 9.74958C15.6515 9.74958 15.5539 9.76899 15.4628 9.8067C15.3718 9.84442 15.2891 9.89969 15.2194 9.96937L12.75 12.4397V3.75C12.75 3.55109 12.671 3.36032 12.5303 3.21967C12.3897 3.07902 12.1989 3 12 3C11.8011 3 11.6103 3.07902 11.4697 3.21967C11.329 3.36032 11.25 3.55109 11.25 3.75V12.4397L8.78063 9.96937C8.63989 9.82864 8.44902 9.74958 8.25 9.74958C8.05098 9.74958 7.86011 9.82864 7.71937 9.96937C7.57864 10.1101 7.49958 10.301 7.49958 10.5C7.49958 10.699 7.57864 10.8899 7.71937 11.0306L11.4694 14.7806Z" fill="white"/>
                                        </svg>
                                        Download QR Code
                                    </button>
                                </div>
                            </div>

                            <div class="flex flex-col gap-3 mb-8">
                                <span class="text-base text-textColor">Your link</span>

                                <div class="flex gap-2 items-center flex-wrap justify-center md:justify-start">
                                    <!-- <input type="text" value="https://childfreebc.com/register-as-candidates/?ref=<?php echo $user_name; ?>"
                                           class="input border-borderColor bg-white rounded-xl bg-white w-full max-w-lg" id="accLink" readonly /> -->
                                           <input type="text" value="<?php echo do_shortcode('[affiliate_referral_url url="https://childfreebc.com/register-as-candidates/"]');?>"
                                           class="input border-borderColor bg-white rounded-xl bg-white w-full max-w-lg" id="accLink" readonly />
                                    <div class="tooltip tooltip-bottom tooltip-success flex" data-tip="Copy referral link">
                                        <button class="btn bg-primary border-0 text-white capitalize hover:scale-105" id="copy-accLink">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                                <g clip-path="url(#clip0_1349_13465)">
                                                <path d="M17.25 6.75H3.75V20.25H17.25V6.75Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M6.75 3.75H20.25V17.25" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                                </g>
                                                <defs>
                                                <clipPath id="clip0_1349_13465">
                                                    <rect width="24" height="24" fill="white"/>
                                                </clipPath>
                                                </defs>
                                            </svg>
                                            Copy
                                        </button>
                                    </div>
                                    <span id="copiedTextMsg"></span>
                                </div>
                            </div>
                            <div class="flex flex-col gap-3 mb-8">
                                <span class="text-base text-textValue mb-6">Share via social media:</span>
                                <div class="flex items-center flex-wrap md:flex-nowrap gap-4 md:gap-0 justify-center">
                                    <div class="flex flex-col gap-2 w-40 items-center hover:cursor-pointer hover:transition-all hover:scale-105" id="share-on-facebook">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 56 56" fill="none">
                                            <path d="M56 28.001C56 42.1427 45.5173 53.834 31.8994 55.7312C30.6261 55.9078 29.3233 56 28.001 56C26.4746 56 24.9756 55.8784 23.5159 55.6429C10.1825 53.4965 0 41.9367 0 28.001C0 12.5369 12.5369 0 27.999 0C43.4611 0 56 12.5369 56 28.001Z" fill="#1877F2"/>
                                            <path d="M31.8991 22.4823V28.582H39.4448L38.2499 36.7987H31.8991V55.7296C30.6258 55.9062 29.3231 55.9984 28.0007 55.9984C26.4743 55.9984 24.9754 55.8767 23.5157 55.6413V36.7987H16.5566V28.582H23.5157V21.1188C23.5157 16.4886 27.2689 12.7334 31.9011 12.7334V12.7373C31.9148 12.7373 31.9266 12.7334 31.9403 12.7334H39.4467V19.8396H34.5418C33.0841 19.8396 31.9011 21.0226 31.9011 22.4804L31.8991 22.4823Z" fill="white"/>
                                        </svg>
                                        Facebook
                                    </div>
                                    <div class="flex flex-col gap-2 w-40 items-center hover:cursor-pointer hover:transition-all hover:scale-105" id="share-on-twitter">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 56 56" fill="none">
                                            <path d="M55.9961 28.001C55.9961 42.1427 45.5137 53.834 31.8963 55.7312C30.623 55.9078 29.3203 56 27.998 56C26.4717 56 24.9728 55.8784 23.5132 55.6429C10.1822 53.4966 0 41.9367 0 28.001C0 12.5369 12.5364 0 28 0C43.4636 0 56 12.5369 56 28.001H55.9961Z" fill="#1C1C1B"/>
                                            <path d="M11.3558 12.3486L24.2689 29.6138L11.2754 43.6516H14.2006L25.5775 31.3619L34.7689 43.6516H44.7216L31.0826 25.4152L43.1776 12.3486H40.2524L29.7759 23.6671L21.3104 12.3486H11.3578H11.3558ZM15.6563 14.5029H20.2275L40.4172 41.4974H35.846L15.6563 14.5029Z" fill="white"/>
                                        </svg>
                                        Twitter
                                    </div>
                                    <div class="flex flex-col gap-2 w-40 items-center hover:cursor-pointer hover:transition-all hover:scale-105" id="share-on-reddit">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 56 56" fill="none">
                                            <path d="M27.9362 0H28.0637C43.4827 0 56 12.5173 56 27.9362V28.0638C56 43.4827 43.4827 56 28.0637 56H27.9362C12.5173 56 0 43.4827 0 28.0638V27.9362C0 12.5173 12.5173 0 27.9362 0Z" fill="#FF4500"/>
                                            <path d="M45.3487 27.299C44.8837 25.1899 42.9571 23.8225 41.0462 24.2443C40.3948 24.3875 39.8336 24.723 39.3902 25.1821C36.8181 23.3143 33.3062 22.0802 29.3843 21.8468L31.2619 14.0304L36.8319 15.3625C36.9241 16.885 38.1856 18.0916 39.7316 18.0916C41.2776 18.0916 42.6392 16.7889 42.6392 15.184C42.6392 13.5791 41.3365 12.2764 39.7316 12.2764C38.5682 12.2764 37.5656 12.9611 37.1026 13.9499L31.0598 12.504C30.585 12.3902 30.1083 12.6825 29.9925 13.1573L27.9148 21.8075C23.5396 21.8311 19.5922 23.0965 16.7591 25.1232C16.6198 24.9937 16.4708 24.8741 16.3079 24.7681C14.6579 23.7145 12.3781 24.3365 11.2166 26.1552C10.0552 27.9739 10.4495 30.3047 12.0995 31.3583C12.1976 31.4211 12.2977 31.476 12.3997 31.527C12.333 31.9332 12.2977 32.3471 12.2977 32.765C12.2977 38.8177 19.3431 43.7245 28.0345 43.7245C36.7259 43.7245 43.7713 38.8177 43.7713 32.765C43.7713 32.3412 43.734 31.9234 43.6653 31.5133C45.0054 30.7344 45.7352 29.0373 45.3526 27.299H45.3487ZM19.965 30.2263C19.965 28.847 21.0833 27.7287 22.4626 27.7287C23.8418 27.7287 24.9601 28.847 24.9601 30.2263C24.9601 31.6055 23.8418 32.7238 22.4626 32.7238C21.0833 32.7238 19.965 31.6055 19.965 30.2263ZM33.836 38.1114C33.0689 38.8078 30.95 40.4323 27.8481 40.4618C27.8207 40.4618 27.7912 40.4618 27.7637 40.4618C24.6207 40.4618 22.4743 38.8216 21.6915 38.1114C21.4404 37.8838 21.4227 37.4953 21.6503 37.2461C21.8779 36.995 22.2664 36.9773 22.5155 37.2049C23.1963 37.8249 25.0778 39.263 27.8363 39.2375C30.5183 39.212 32.3488 37.8092 33.0119 37.2069C33.2631 36.9793 33.6496 36.997 33.8772 37.2481C34.1048 37.4992 34.0871 37.8857 33.836 38.1133V38.1114ZM33.5339 32.7238C32.1546 32.7238 31.0363 31.6055 31.0363 30.2263C31.0363 28.847 32.1546 27.7287 33.5339 27.7287C34.9131 27.7287 36.0314 28.847 36.0314 30.2263C36.0314 31.6055 34.9131 32.7238 33.5339 32.7238Z" fill="white"/>
                                        </svg>
                                        Reddit
                                    </div>
                                    <div class="flex flex-col gap-2 w-40 items-center hover:cursor-pointer hover:transition-all hover:scale-105" id="share-on-whatsapp">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 56 56" fill="none">
                                            <path d="M28.0638 0H27.9362C12.5075 0 0 12.5075 0 27.9362V28.0638C0 43.4925 12.5075 56 27.9362 56H28.0638C43.4925 56 56 43.4925 56 28.0638V27.9362C56 12.5075 43.4925 0 28.0638 0Z" fill="#00E510"/>
                                            <path d="M33.4569 36.1905C26.2899 36.1905 20.459 30.3576 20.457 23.1906C20.459 21.3738 21.9383 19.8965 23.7512 19.8965C23.9375 19.8965 24.1219 19.9122 24.2985 19.9436C24.687 20.0083 25.0559 20.1398 25.3953 20.3379C25.4443 20.3674 25.4777 20.4144 25.4855 20.4694L26.2428 25.2428C26.2526 25.2997 26.235 25.3546 26.1977 25.3958C25.7798 25.8589 25.2462 26.1924 24.6517 26.3592L24.3652 26.4396L24.4731 26.7162C25.4502 29.204 27.4396 31.1914 29.9293 32.1724L30.206 32.2823L30.2864 31.9958C30.4532 31.4014 30.7867 30.8677 31.2497 30.4498C31.2831 30.4184 31.3282 30.4027 31.3733 30.4027C31.3831 30.4027 31.393 30.4027 31.4047 30.4047L36.1781 31.162C36.235 31.1718 36.2821 31.2032 36.3116 31.2523C36.5078 31.5917 36.6392 31.9625 36.7059 32.351C36.7373 32.5236 36.751 32.7061 36.751 32.8964C36.751 34.7112 35.2737 36.1885 33.4569 36.1905Z" fill="#FDFDFD"/>
                                            <path d="M46.1667 26.4278C45.7802 22.0605 43.7791 18.009 40.532 15.021C37.2654 12.0153 33.0275 10.3594 28.5955 10.3594C18.8681 10.3594 10.9536 18.2739 10.9536 28.0012C10.9536 31.2659 11.8542 34.4463 13.5591 37.2165L9.75684 45.6333L21.9308 44.3365C24.0477 45.2036 26.2882 45.6431 28.5935 45.6431C29.1998 45.6431 29.8217 45.6117 30.4456 45.547C30.995 45.4881 31.5502 45.4018 32.0956 45.2919C40.2417 43.6459 46.1883 36.4161 46.2354 28.0954V28.0012C46.2354 27.4715 46.2119 26.9418 46.1648 26.4278H46.1667ZM22.3997 40.6421L15.6643 41.3602L17.6753 36.9046L17.2731 36.3651C17.2437 36.3258 17.2142 36.2866 17.1809 36.2414C15.4347 33.8302 14.5126 30.9815 14.5126 28.0032C14.5126 20.2378 20.8301 13.9203 28.5955 13.9203C35.8704 13.9203 42.0368 19.5962 42.6313 26.8417C42.6627 27.2302 42.6804 27.6206 42.6804 28.0052C42.6804 28.115 42.6784 28.2229 42.6764 28.3387C42.5273 34.8347 37.9893 40.3517 31.6404 41.7565C31.1558 41.8644 30.6595 41.9468 30.1651 41.9998C29.651 42.0586 29.1233 42.0881 28.5994 42.0881C26.7336 42.0881 24.9208 41.7271 23.208 41.0129C23.0177 40.9364 22.8313 40.854 22.6567 40.7696L22.4016 40.646L22.3997 40.6421Z" fill="#FDFDFD"/>
                                        </svg>
                                        Whatsapp
                                    </div>
                                    <div class="flex flex-col gap-2 w-40 items-center hover:cursor-pointer hover:transition-all hover:scale-105" id="share-on-email">
                                        <div class="p-3 rounded-full bg-primary flex items-center justify-center">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
                                                <g clip-path="url(#clip0_1049_12536)">
                                                <path d="M28 7L16 18L4 7" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M4 7H28V24C28 24.2652 27.8946 24.5196 27.7071 24.7071C27.5196 24.8946 27.2652 25 27 25H5C4.73478 25 4.48043 24.8946 4.29289 24.7071C4.10536 24.5196 4 24.2652 4 24V7Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M13.8225 16L4.3125 24.7175" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M27.6897 24.7175L18.1797 16" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                </g>
                                                <defs>
                                                <clipPath id="clip0_1049_12536">
                                                    <rect width="32" height="32" fill="white"/>
                                                </clipPath>
                                                </defs>
                                            </svg>
                                        </div>
                                        Email
                                    </div>
                                </div>
                            </div>                      
                        </div>   
                    </div>
    
                    <div id="tab3" class="hidden">
                        <div class="flex w-full justify-between items-center mb-8 flex-col lg:flex-row gap-5 md:gap-0">
                            <h1 class="text-3xl font-medium text-textColor pl-20 xl:pl-0">My Candidates Status</h1>
                            <div class="flex items-center justify-end gap-3 sm:gap-6 flex-wrap">
                                <select class="block bg-white w-56 h-12 px-8 border-primary text-primary rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-blue-900 sm:max-w-xs sm:text-sm sm:leading-6">
                                    <option disabled="" selected="">Show per page: 10</option>
                                    <option>25</option>
                                    <option>50</option>
                                    <option>100</option>
                                </select>                                
                                <select class="block bg-white w-56 h-12 px-8 border-primary text-primary rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-blue-900 sm:max-w-xs sm:text-sm sm:leading-6">
                                    <option disabled="" selected="">Sort by: All</option>
                                    <option>Cancelled</option>
                                    <option>In progress</option>
                                    <option>Completed</option>
                                </select>
                            </div>
                        </div> 

                        <?php
                            if(!$productsRef->have_posts()) {
                                echo '<div class="my-4 flex w-full flex-col ga justify-center items-center">
                                    <img src="/wp-content/uploads/2023/12/no-data2.svg" alt="no data"
                                    <span class="text-3xl text-textValue mt-2 mb-8">
                                        You have no active candidates.
                                    </span>                                                       
                                </div>';
                            } else {
                                ?>
                                    <div class="overflow-x-auto">
                                        <table class="table">
                                            <thead>
                                            <tr class="text-xs font-semibold bg-primary bg-opacity-5 text-info border-b border-borderColor h-14">
                                                <th>Candidate</th>
                                                <th>Progress</th>
                                                <th>My Share </th>
                                                <th>Status</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <?php
                                            $payout_status = '';
                                            $affiliate_id = $wpdb->get_var(
                                                $wpdb->prepare(
                                                    "SELECT affiliate_id FROM {$wpdb->prefix}affiliate_wp_affiliates WHERE user_id = %d",
                                                    $user_id
                                                )
                                            );
                                            $referral_donors = $wpdb->get_results(
                                                $wpdb->prepare(
                                                    "SELECT * FROM {$wpdb->prefix}affiliate_wp_referrals WHERE affiliate_id = %d",
                                                    $affiliate_id
                                                )
                                            );
                                            if ($productsRef->have_posts()) {
                                                foreach ($productsRef->get_posts() as $post) {
                                                    $product_id = $post->ID;
                                                    $refproduct = wc_get_product($product_id);
                                                    $referredPerson = $refproduct->get_referred_person();

                                                    if ($referredPerson === $user_name) {
                                                        $totalRefCount++;
                                                        $ref_product_raised = $refproduct->get_amount_raised();
                                                        $ref_product_goal = $refproduct->get_goal();
                                                        $ref_user_image = $refproduct->get_image();
                                                        $ref_user_name = $refproduct->get_name();
                                                        $ref_user_id = $refproduct->get_user_id();
                                                        $ref_product_slug = $refproduct->get_slug();
                                                        $unpaid_earnings = 0;
                                                        $foundReferral = false; // Initialize foundReferral here

                                                        if ($ref_product_raised >= $ref_product_goal) {
                                                            $totalRefSucceed++;
                                                        }

                                                        foreach ($referral_donors as $referral_donor) {
                                                            if ($referral_donor->description === $ref_user_name) {
                                                                $foundReferral = true; // Set foundReferral to true if found
                                                                $donor = $referral_donor; // Use the current referral_donor
                                                                // Update unpaid_earnings if a referral was found
                                                                $unpaid_earnings = $donor->amount;
                                                                $payout_status = $donor->status;
                                                                break; // No need to continue searching once found
                                                            }
                                                        }

                                                        ?>
                                                        <tr class="h-14 border-0 bg-white">
                                                            <td>
                                                                <div class="flex items-center space-x-4">
                                                                    <div class="avatar">
                                                                        <div class="mask mask-squircle w-6 h-6">
                                                                            <?php echo $ref_user_image ?>
                                                                        </div>
                                                                    </div>
                                                                    <div>
                                                                        <div class="font-normal text-primary text-base underline cursor-pointer whitespace-nowrap">
                                                                            <a href="/candidates/<?php echo $ref_product_slug ?>"><?php echo $ref_user_name ?></a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="flex gap-2 items-center">
                                                                    <span class="text-sm font-medium text-textColor whitespace-nowrap">$<?php echo number_format($ref_product_raised) ?> raised</span>
                                                                    <progress class="progress progress-primary w-36" value="<?php echo ($ref_product_raised / $ref_product_goal) * 100 ?>" max="100"></progress>
                                                                    <span class="text-sm font-medium text-textValue whitespace-nowrap">of $<?php echo number_format($ref_product_goal) ?></span>
                                                                </div>
                                                            </td>
                                                            <td class="text-left">
                                                                <span class="text-sm font-medium text-textColor whitespace-nowrap">
                                                                    <?php echo '$' . number_format($unpaid_earnings, 2); ?>
                                                                </span>
                                                            </td>
                                                            <td class="text-left">
                                                                <div class="badge badge-outline <?php
                                                                    if ($unpaid_earnings > 0 && $payout_status === 'unpaid') {
                                                                        echo 'bg-alert badge-warning text-alert border-alert ';
                                                                    }
                                                                    elseif ($unpaid_earnings > 0 && $payout_status === 'paid') {
                                                                        echo 'bg-success badge-success text-success border-success ';
                                                                    }
                                                                    else {
                                                                        echo '';
                                                                    }
                                                                    ?> bg-opacity-10 text-xs font-medium p-3 whitespace-nowrap">
                                                                        <?php
                                                                        if ($unpaid_earnings > 0) {
                                                                            echo ucwords($payout_status);
                                                                        } else {
                                                                            echo 'Not Applicable';
    //                                                                        echo ($ref_product_raised / $ref_product_goal) * 100 === 100 ? 'Completed' : 'In progress';
                                                                        }
                                                                        ?>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <?php
                                                    }
                                                }
                                                wp_reset_postdata();
                                            }
                                            ?>
                                            </tbody>

                                        </table>
                                    </div>
                                    <div class="w-full flex justify-center mt-8 gap-3.5 items-center">
                                        <?php
                                                global $page;
                                                $total_items = 1;
                                                $items_per_page = 10; 
                                                $total_pages = ceil($total_items / $items_per_page);
                                                
                                                for ($i = 1; $i <= $total_pages; $i++) {
                                                    $active_class = $i === $page ? 'active' : '';
                                                    echo '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" class="cursor-pointer">
                                                        <g clip-path="url(#clip0_1049_13851)">
                                                        <path d="M15 4.5L7.5 12L15 19.5" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                                        <path d="M15 4.5L7.5 12L15 19.5" stroke="black" stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                                        <path d="M15 4.5L7.5 12L15 19.5" stroke="black" stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                                        <path d="M15 4.5L7.5 12L15 19.5" stroke="black" stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                                        </g>
                                                        <defs>
                                                        <clipPath id="clip0_1049_13851">
                                                            <rect width="24" height="24" fill="white" transform="matrix(0 -1 -1 0 24 24)"/>
                                                        </clipPath>
                                                        </defs>
                                                    </svg>';
                                                    echo '<a href="?page=' . $i . '" class="page-link w-10 h-10 border-0 bg-transparent flex items-center justify-center ' . $active_class . '">' . $i . '</a>';
                                                    echo '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" class="cursor-pointer">
                                                        <g clip-path="url(#clip0_1049_13883)">
                                                        <path d="M9 4.5L16.5 12L9 19.5" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                                        <path d="M9 4.5L16.5 12L9 19.5" stroke="black" stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                                        <path d="M9 4.5L16.5 12L9 19.5" stroke="black" stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                                        <path d="M9 4.5L16.5 12L9 19.5" stroke="black" stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                                        </g>
                                                        <defs>
                                                        <clipPath id="clip0_1049_13883">
                                                            <rect width="24" height="24" fill="white" transform="matrix(0 -1 1 0 0 24)"/>
                                                        </clipPath>
                                                        </defs>
                                                    </svg>'; 
                                                }
                                            ?>
                                    </div>
                                <?php
                            }
                        
                        ?>      
                    </div>
    
                    <div id="tab4" class="hidden">
                        <div class="flex w-full justify-between items-center mb-8 lg:mb-0 flex-col md:flex-row">
                            <div class="flex gap-5 items-center w-full justify-start mb-6">
                                
                                <h1 class="text-3xl font-medium text-textColor pl-20 xl:pl-0">Notification</h1>
                            </div>
                            <div class="flex items-center gap-6 flex-wrap md:flex-nowrap md:justify-end w-full">
                                <select class="block bg-white w-56 h-12 px-8 border-primary text-primary rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-blue-900 sm:max-w-xs sm:text-sm sm:leading-6">
                                    <option disabled="" selected="">Show per page: 10</option>
                                    <option>25</option>
                                    <option>50</option>
                                    <option>100</option>
                                </select>                                
                                <select class="block bg-white w-56 h-12 px-8 border-primary text-primary rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-blue-900 sm:max-w-xs sm:text-sm sm:leading-6">
                                    <option disabled="" selected="">Sort by: All</option>
                                    <option>Cancelled</option>
                                    <option>In progress</option>
                                    <option>Completed</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="flex w-full h-full items-center justify-center flex-col gap-4">
<!--                            <img src="https://staging.childfreebc.com/wp-content/uploads/2023/11/foo2-1.png" alt="Coming soon" />-->
                            <img src="https://childfreebc.com/wp-content/uploads/2023/11/foo2-1.png" alt="Coming soon" />
                            <span style="color: #76787A;">Feature Coming Soon</span>
                        </div>
                    </div>
    
                    <div id="tab5" class="hidden">
                        <div class="flex w-full justify-between items-center mb-8 lg:mb-0 flex-col md:flex-row">
                            <div class="flex gap-5 items-center w-full justify-start mb-6">
                                <h1 class="text-3xl font-medium text-textColor pl-20 xl:pl-0">Referrals</h1>
                            </div>
                        </div>
                        <?php        
                        if(!$foundRef) {
                            ?>
                                <div class="flex items-center w-full justify-center h-full text-3xl text-textValue my-12">No referrals</div>
                            <?php
                        } else {
                            ?>
                                <div class="flex w-full h-full justify-start flex-col md:flex-row gap-8">
                                    <div class="w-full flex items-center flex-col md:flex-row gap-2 rounded-xl p-4 gap-6" style="background-color: #EDF3FE;">
                                        <div class="flex flex-col gap-2">
                                            <div class="flex items-center text-xl gap-1">
                                                <span>Referral</span>
                                                <span>Bonus Program</span>
                                            </div>
                                            <p>If ChildFree by Choice is a cause you can get behind, please help spread the word through our Referral Bonus Program. For any Donors that put your Username down in </p>
                                            <div class="flex items-center flex-wrap gap-2">
                                                <span>Step 2 of Donation checkout, you receive </span>
                                                <span class="py-1 px-2.5 bg-accentBg rounded-full font-medium" style="color: #8802A9;">10%</span>
                                                <span>of the Donation Amount.</span>
                                                <span>To request payout of your referral bonus please email at <a class="underline text-primary" href="mailto:info@childfreebc.com">info@childfreebc.com</a></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex flex-col gap-6 rounded-xl w-full lg:max-w-sm p-4" style="background-color: #F2E5FF;">
                                        <span class="text-base text-primary">Raised with referrals</span>
                                        <span class="text-primary text-3xl font-semibold">
                                            <?php
                                                echo '$' . number_format($total_unpaid_earnings, 2);
                                            ?>
                                        </span>
                                    </div>
                                </div>
                                <div class="flex flex-col gap-4">
                                    <h2 class="text-3xl font-medium text-textColor my-6">Your referral bonus</h2>

                                    <div class="overflow-x-auto" style="border-radius: 8px 8px 0 0;">
                                        <table class="table rounded-t-lg">
                                            
                                            <thead class="h-14">
                                                <tr class="text-xs font-semibold bg-primary bg-opacity-5 text-info border-b border-borderColor" style="color: #8497AB !important">
                                                    <th>Candidate Name</th>
                                                    <th>Donor</th>
                                                    <th>Donation Amount</th>
                                                    <th>Referral bonus</th>
                                                    <th>Date</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                            <?php
                                            $payout_status = '';
                                            $affiliate_id = $wpdb->get_var(
                                                $wpdb->prepare(
                                                    "SELECT affiliate_id FROM {$wpdb->prefix}affiliate_wp_affiliates WHERE user_id = %d",
                                                    $user_id
                                                )
                                            );

                                            $referrals = $wpdb->get_results(
                                                $wpdb->prepare(
                                                    "SELECT * FROM {$wpdb->prefix}affiliate_wp_referrals WHERE affiliate_id = %d",
                                                    $affiliate_id
                                                )
                                            );

                                            if ($referrals) {
                                                foreach ($referrals as $referral) {
                                                    $ref_candidate = $referral->description;
                                                    $ref_candidate_details = unserialize($referral->products, ['allowed_classes' => false]);
                                                    $ref_candidate_price = isset($ref_candidate_details[0]['price']) ? $ref_candidate_details[0]['price'] : '';
                                                    $ref_candidate_id = isset($ref_candidate_details[0]['id']) ? $ref_candidate_details[0]['id'] : '';
                                                    $ref_candidate_user_id = get_post_meta($ref_candidate_id, '_user_id', true);
                                                    $ref_candidate_slug = $wpdb->get_var(
                                                        $wpdb->prepare(
                                                            "SELECT post_name FROM {$wpdb->prefix}posts WHERE post_author = %d AND post_title = %s",
                                                            $ref_candidate_user_id,
                                                            $ref_candidate
                                                        )
                                                    );

                                                    $ref_date = new DateTime($referral->date);
                                                    $formatted_ref_order_date = $ref_date->format('j F, g:i A');
                                                    $referral_products = $referral->products;
                                                    $unpaid_earnings = $referral->amount;
                                                    $total_unpaid_earnings += $unpaid_earnings;
                                                    $payout_status = $referral->status;

                                                    $ref_donor_id = $referral->customer_id;
                                                    $ref_donor = $wpdb->get_var(
                                                        $wpdb->prepare(
                                                            "SELECT CONCAT(first_name, ' ', last_name) FROM {$wpdb->prefix}affiliate_wp_customers WHERE customer_id = %d",
                                                            $ref_donor_id
                                                        )
                                                    );
                                                    $ref_donor_user_id = $wpdb->get_var(
                                                        $wpdb->prepare(
                                                            "SELECT user_id FROM {$wpdb->prefix}affiliate_wp_customers WHERE customer_id = %d",
                                                            $ref_donor_id
                                                        )
                                                    );
                                                    $ref_donor_username = $wpdb->get_var(
                                                        $wpdb->prepare(
                                                            "SELECT user_login FROM {$wpdb->prefix}users WHERE ID = %d",
                                                            $ref_donor_user_id
                                                        )
                                                    );
                                                    $ref_donor_slug = $wpdb->get_var(
                                                        $wpdb->prepare(
                                                            "SELECT post_name FROM {$wpdb->prefix}posts WHERE post_author = %d AND post_title = %s",
                                                            $ref_donor_user_id,
                                                            $ref_donor_username
                                                        )
                                                    );
                                                    ?>
                                                    <tr class="h-14 border-0 bg-white">
                                                        <td class="h-14">
                                                            <div class="flex items-center space-x-4">
                                                                <div class="font-normal text-primary text-sm underline">
                                                                    <a href="/candidates/<?php echo $ref_candidate_slug ?>"><?php echo $ref_candidate ?></a>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td class="h-14">
                                                            <div class="flex items-center space-x-4">
                                                                <div class="font-normal text-primary text-sm">
<!--                                                                    <a href="/candidates/--><?php //echo $ref_donor_slug ?><!--">--><?php //echo $ref_donor ?>
                                                                    <?php echo $ref_donor ?>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td class="h-14">
                                                            <span class="text-sm font-medium text-textColor">$<?php echo number_format($ref_candidate_price) ?></span>
                                                        </td>
                                                        <td class="h-14">
                                                            <span class="text-sm font-medium text-textColor">$<?php echo number_format($unpaid_earnings, 2) ?></span>
                                                        </td>
                                                        <td class="h-14">
                                                            <span class="text-sm font-medium text-textColor"><?php echo $formatted_ref_order_date ?></span>
                                                        </td>
                                                    </tr>
                                                    <?php
                                                }
                                            }
                                            ?>
                                            </tbody>
                                        </table>
                                    </div> 
                                </div>
                            <?php
                        }
                        ?>                                  
                    </div>

                    <div id="tab6" class="hidden">
                        <div class="flex w-full justify-between items-center mb-8 lg:mb-6 flex-col md:flex-row">
                            <div class="flex gap-5 items-center w-full justify-start">
                                <h1 class="text-3xl font-medium text-textColor pl-20 xl:pl-0">Account Details</h1>
                            </div>
                            <button class="btn text-white border-0 bg-primary hidden sm:flex">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <g clip-path="url(#clip0_1068_61413)">
                                    <path d="M3.75 8.56031V19.5C3.75 19.6989 3.82902 19.8897 3.96967 20.0303C4.11032 20.171 4.30109 20.25 4.5 20.25H19.5C19.6989 20.25 19.8897 20.171 20.0303 20.0303C20.171 19.8897 20.25 19.6989 20.25 19.5V4.5C20.25 4.30109 20.171 4.11032 20.0303 3.96967C19.8897 3.82902 19.6989 3.75 19.5 3.75H8.56031C8.36166 3.75009 8.17117 3.82899 8.03063 3.96938L3.96938 8.03063C3.82899 8.17117 3.75009 8.36166 3.75 8.56031Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M12 17.25C13.6569 17.25 15 15.9069 15 14.25C15 12.5931 13.6569 11.25 12 11.25C10.3431 11.25 9 12.5931 9 14.25C9 15.9069 10.3431 17.25 12 17.25Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M8.25 8.25H15.75C15.9489 8.25 16.1397 8.17098 16.2803 8.03033C16.421 7.88968 16.5 7.69891 16.5 7.5V3.75" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    </g>
                                    <defs>
                                    <clipPath id="clip0_1068_61413">
                                        <rect width="24" height="24" fill="white"/>
                                    </clipPath>
                                    </defs>
                                </svg>
                                Save Changes
                            </button>
                        </div>
                        <div class="w-full flex flex-col gap-8">
                            <div class="flex flex-col w-full shadow-md px-3 py-4 lg:px-8 lg:py-6 rounded-md gap-6">
                                <h1 class="text-3xl font-medium text-textColor">Personal Information</h1>
                                <div class="w-full flex flex-col gap-4">
                                    <div class="w-full flex items-center gap-4">
                                        <div class="w-full flex flex-col">
                                            <label class="label">
                                                <span class="label-text">First Name</span>
                                            </label>
                                            <input type="text" value="<?php echo $user->user_firstname ?>" class="input input-bordered w-full bg-white border-borderColor rounded-xl" />
                                        </div>
                                        <div class="w-full flex flex-col">
                                            <label class="label">
                                                <span class="label-text">Last Name</span>
                                            </label>
                                            <input type="text" value="<?php echo  $user->user_lastname ?>" class="input input-bordered w-full bg-white border-borderColor rounded-xl" />
                                        </div>
                                    </div>
                                    <div class="w-full flex flex-col">
                                        <label class="label">
                                            <span class="label-text">Email</span>
                                        </label>
                                        <input type="text" value="<?php echo  $user->user_email ?>" class="input input-bordered w-full bg-white border-borderColor rounded-xl" />
                                    </div>
                                </div>
                            </div>

                            <button class="btn text-white border-0 bg-primary flex sm:hidden">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <g clip-path="url(#clip0_1068_61413)">
                                    <path d="M3.75 8.56031V19.5C3.75 19.6989 3.82902 19.8897 3.96967 20.0303C4.11032 20.171 4.30109 20.25 4.5 20.25H19.5C19.6989 20.25 19.8897 20.171 20.0303 20.0303C20.171 19.8897 20.25 19.6989 20.25 19.5V4.5C20.25 4.30109 20.171 4.11032 20.0303 3.96967C19.8897 3.82902 19.6989 3.75 19.5 3.75H8.56031C8.36166 3.75009 8.17117 3.82899 8.03063 3.96938L3.96938 8.03063C3.82899 8.17117 3.75009 8.36166 3.75 8.56031Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M12 17.25C13.6569 17.25 15 15.9069 15 14.25C15 12.5931 13.6569 11.25 12 11.25C10.3431 11.25 9 12.5931 9 14.25C9 15.9069 10.3431 17.25 12 17.25Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M8.25 8.25H15.75C15.9489 8.25 16.1397 8.17098 16.2803 8.03033C16.421 7.88968 16.5 7.69891 16.5 7.5V3.75" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    </g>
                                    <defs>
                                    <clipPath id="clip0_1068_61413">
                                        <rect width="24" height="24" fill="white"/>
                                    </clipPath>
                                    </defs>
                                </svg>
                                Save Changes
                            </button>

                            <div class="flex flex-col w-full shadow-md px-3 py-4 lg:px-8 lg:py-6 rounded-md gap-6">
                                <h1 class="text-2xl text-textColor">Email Verification</h1>    
                                <!-- Condititon user verified email -->         
                                
                                <?php 
                                    echo '<script>console.log('. json_encode($user) .')</script>'; 
                                    $user_email = $user->user_email;
                                    $user_email_mark = $user->user_status; // change to user obj email boolean mark

                                    if ($user_email_mark !== '0') {
                                        echo '<div class="w-full flex justify-between items-end gap-4">
                                                <div class="flex flex-col w-full">
                                                    <label class="label">
                                                        <span class="label-text">Email</span>
                                                    </label>
                                                    <input type="text" value="'. $user_email .'" class="input input-bordered w-full bg-white border-borderColor rounded-xl" />
                                                </div>
                                                <button class="btn bg-white border-primary text-primary flex gap-2 items-center hover:text-primary">
                                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                                                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5" />
                                                    </svg>                                              
                                                    Resend Verification
                                                </button>
                                            </div>';
                                    } else {
                                        echo '<label class="label">
                                                <span class="label-text flex gap-2 items-center">
                                                    Your email has been verified successfully.
                                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-green-400">
                                                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.746 3.746 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.746 3.746 0 011.043 3.296A3.745 3.745 0 0121 12z" />
                                                    </svg>
                                                </span>
                                            </label>'; 
                                    }
                                ?>                           
                            </div>
                            <div class="flex w-full shadow-md px-3 py-4 lg:px-8 lg:py-6 rounded-md gap-6 justify-between items-center" style="height: 140px;">
                                <h1 class="text-2xl text-textColor">Stripe account</h1>
                                <?php echo $stripeChecker ?>
                            </div>

                            <div class="flex flex-col w-full shadow-md px-3 py-4 lg:px-8 lg:py-6 rounded-md gap-6">
                                <h1 class="text-2xl text-textColor">Notifications</h1>
                                <div class="flex w-full justify-between flex-col md:flex-row gap-8 md:gap-0">
                                    <div class="flex flex-col gap-4">
                                        <h3 class="text-base text-textColor">Email notification</h3>
                                        <div class=" bg-white flex items-center gap-4 w-full no-wrap">
                                            <input type="checkbox">
                                            <span class="label-text">News and updates</span>
                                        </div>
                                        <div class=" bg-white flex items-center gap-4 w-full no-wrap">
                                            <input type="checkbox" />
                                            <span class="label-text">News and updates</span>
                                        </div>
                                        <div class=" bg-white flex items-center gap-4 w-full no-wrap">
                                            <input type="checkbox" checked />
                                            <span class="label-text">Candidates statuses updates </span>
                                        </div>
                                        <div class=" bg-white flex items-center gap-4 w-full no-wrap">
                                            <input type="checkbox" />
                                            <span class="label-text">Referrals donations</span>
                                        </div>
                                        <div class=" bg-white flex items-center gap-4 w-full no-wrap">
                                            <input type="checkbox" checked />
                                            <span class="label-text">Reminders</span>
                                        </div>
                                    </div>

                                    <div class="flex flex-col gap-4">
                                        <h3 class="text-base text-textColor">Disable SMS Notifications</h3>
                                        <div class=" bg-white flex items-center gap-4 w-full no-wrap">
                                            <input type="checkbox" />
                                            <span class="label-text">Reminders</span>
                                        </div>
                                        <div class=" bg-white flex items-center gap-4 w-full no-wrap">
                                            <input type="checkbox" checked />
                                            <span class="label-text">Referrals donations</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="flex w-full justify-between shadow-md px-8 py-6 rounded-md gap-6 items-center flex-col sm:flex-row">
                                <h1 class="text-2xl text-textColor">Password</h1>
                                <a href="/reset-password/">
                                    <button class="btn bg-white border-primary text-primary hover:scale-105">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                            <g clip-path="url(#clip0_1068_61470)">
                                            <path d="M6 6C6 6 8.25 3.75 12 3.75C17.25 3.75 20.25 9 20.25 9" stroke="#143A62" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                            <path d="M18 18C18 18 15.75 20.25 12 20.25C6.75 20.25 3.75 15 3.75 15" stroke="#143A62" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                            <path d="M15.75 9H20.25V4.5" stroke="#143A62" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                            <path d="M8.25 15H3.75V19.5" stroke="#143A62" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                            </g>
                                            <defs>
                                            <clipPath id="clip0_1068_61470">
                                                <rect width="24" height="24" fill="white"/>
                                            </clipPath>
                                            </defs>
                                        </svg>
                                        Change Password
                                    </button>
                                </a>
                            </div>

                            <div class="flex w-full justify-between shadow-md px-8 py-6 rounded-md gap-6 items-center flex-col sm:flex-row">
                                <h1 class="text-2xl text-textColor">Delete account</h1>
                                <form method="post" action="">
                                    <button class="btn bg-white border-warning text-warning capitalize hover:scale-105 hover:bg-red-200 hover:text-red-500" id="delete_account" onclick="delAcc.showModal()">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                            <path d="M20.25 4.5H16.5V3.75C16.5 3.15326 16.2629 2.58097 15.841 2.15901C15.419 1.73705 14.8467 1.5 14.25 1.5H9.75C9.15326 1.5 8.58097 1.73705 8.15901 2.15901C7.73705 2.58097 7.5 3.15326 7.5 3.75V4.5H3.75C3.55109 4.5 3.36032 4.57902 3.21967 4.71967C3.07902 4.86032 3 5.05109 3 5.25C3 5.44891 3.07902 5.63968 3.21967 5.78033C3.36032 5.92098 3.55109 6 3.75 6H4.5V19.5C4.5 19.8978 4.65804 20.2794 4.93934 20.5607C5.22064 20.842 5.60218 21 6 21H18C18.3978 21 18.7794 20.842 19.0607 20.5607C19.342 20.2794 19.5 19.8978 19.5 19.5V6H20.25C20.4489 6 20.6397 5.92098 20.7803 5.78033C20.921 5.63968 21 5.44891 21 5.25C21 5.05109 20.921 4.86032 20.7803 4.71967C20.6397 4.57902 20.4489 4.5 20.25 4.5ZM9 3.75C9 3.55109 9.07902 3.36032 9.21967 3.21967C9.36032 3.07902 9.55109 3 9.75 3H14.25C14.4489 3 14.6397 3.07902 14.7803 3.21967C14.921 3.36032 15 3.55109 15 3.75V4.5H9V3.75ZM18 19.5H6V6H18V19.5ZM10.5 9.75V15.75C10.5 15.9489 10.421 16.1397 10.2803 16.2803C10.1397 16.421 9.94891 16.5 9.75 16.5C9.55109 16.5 9.36032 16.421 9.21967 16.2803C9.07902 16.1397 9 15.9489 9 15.75V9.75C9 9.55109 9.07902 9.36032 9.21967 9.21967C9.36032 9.07902 9.55109 9 9.75 9C9.94891 9 10.1397 9.07902 10.2803 9.21967C10.421 9.36032 10.5 9.55109 10.5 9.75ZM15 9.75V15.75C15 15.9489 14.921 16.1397 14.7803 16.2803C14.6397 16.421 14.4489 16.5 14.25 16.5C14.0511 16.5 13.8603 16.421 13.7197 16.2803C13.579 16.1397 13.5 15.9489 13.5 15.75V9.75C13.5 9.55109 13.579 9.36032 13.7197 9.21967C13.8603 9.07902 14.0511 9 14.25 9C14.4489 9 14.6397 9.07902 14.7803 9.21967C14.921 9.36032 15 9.55109 15 9.75Z" fill="#FF2919"/>
                                        </svg>
                                        Delete
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div id="tab8" class="hidden">

                        <div class="flex w-full justify-between items-center mb-8 lg:mb-6 flex-col md:flex-row">
                                <div class="flex gap-5 items-center w-full justify-start">
                                    <h1 class="text-3xl font-medium text-textColor pl-20 xl:pl-0">Switch Account</h1>
                                </div>
                            </div>
                            <div class="flex flex-col w-full gap-4">
                                <h3 class="text-xl text-textColor text-center sm:text-left">CBC permits four different user types and you can access your Account Dashboard for each user type</h1>
                                <ul>
                                    <li class="text-textColor"><span class="text-primary font-medium">1. Candidate:</span> Access your Account as a Candidate user</li>
                                    <li class="text-textColor"><span class="text-primary font-medium">2. Donor:</span> Access your Account as a Donor user</li>
                                    <li class="text-textColor"><span class="text-primary font-medium">3. Advocate:</span> Access your Account as an Advocate user</li>
                                    <li class="text-textColor"><span class="text-primary font-medium">4. Physician:</span> Access your Account as a Physician user</li>
                                </ul>
                                <div class="w-full flex flex-col">
                                    <label class="label">
                                        <span class="label-text">Account type</span>
                                    </label>

                                    <select class="select select-bordered w-full sm:max-w-xs bg-white border-borderColor rounded-xl" id="userTypeSelect">
                                        <?php echo $options ?>
                                    </select>

                            </div>
                            <button class="btn bg-primary text-white w-full sm:w-56 hover:scale-105" id="switchAcc">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <g clip-path="url(#clip0_1068_61688)">
                                    <path d="M6 6C6 6 8.25 3.75 12 3.75C17.25 3.75 20.25 9 20.25 9" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M18 18C18 18 15.75 20.25 12 20.25C6.75 20.25 3.75 15 3.75 15" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M15.75 9H20.25V4.5" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M8.25 15H3.75V19.5" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    </g>
                                    <defs>
                                    <clipPath id="clip0_1068_61688">
                                        <rect width="24" height="24" fill="white"/>
                                    </clipPath>
                                    </defs>
                                </svg>
                                Switch account
                            </button>
                        </div>                       
                    </div>
                </div>
                </div>
            </div>

        <dialog id="logout" class="modal">
            <div class="modal-box bg-white text-textColor max-w-xl">
                <form method="dialog" class="m-0">
                    <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button>
                </form>
                <h3 class="font-bold text-3xl px-6 pb-8 border-b border-borderColor">Logout</h3>
                <div class="flex flex-col gap-6 pt-8 sm:px-8 pb-1">
                    <span>Are you sure that you want to log out from your account?</span>
                    <div class="flex items-center gap-4 justify-center w-full flex-col sm:flex-row">
                        <form method="dialog" class="m-0 w-full">
                            <button class="btn border border-primary bg-white text-primary w-full sm:w-48 hover:scale-105 hover:text-primary hover:bg-transparent">Cancel</button>
                        </form>    
                        <a href="<?php echo wp_logout_url(); ?>"><button class="btn w-full sm:w-48 bg-warning text-white border-warning hover:scale-105 hover:text-red-500 hover:bg-warning hover:bg-opacity-40 hover:border-warning">Log Out</button></a>                           
                    </div>
                </div>
            </div>
        </dialog>
        <dialog id="delAcc" class="modal">
            <div class="modal-box bg-white text-textColor max-w-4xl">
                <form method="dialog">
                    <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button>
                </form>
                <h3 class="font-bold text-3xl px-6 pb-8 border-b border-borderColor">Delete Account</h3>
                <div class="flex flex-col gap-6 pt-8 px-8 pb-1 items-center">
<!--                    <img src="https://staging.childfreebc.com/wp-content/uploads/2023/10/29268674_hand_illustration-Converted-1.svg" alt="delete account" class="w-96 h-96" />-->
                    <img src="https://childfreebc.com/wp-content/uploads/2023/10/29268674_hand_illustration-Converted-1.svg" alt="delete account" class="w-96 h-96" />
                    <span class="text-xs text-textValue">If you would like to permanently delete your account, make any other changes to your account, or opt out of any portions of our Terms and Conditions or Privacy Policy, please e-mail us at <a href="registrations@childfreebc.com" class="text-primary font-normal">registrations@childfreebc.com</a> and we will assist with your request promptly.</span>
                </div>
            </div>
        </dialog>
    </main>


<!-- QR code generator CDN -->
<script src="https://cdn.jsdelivr.net/gh/davidshimjs/qrcodejs/qrcode.min.js"></script>

<!-- Charts -->

<!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    const data = {
labels: ['Completed: 47%', 'In Progress: 48%', 'Cancelled: 5%'],
datasets: [
    {
        label: 'My First Dataset',
        data: [300, 50, 10],
        backgroundColor: ['rgb(2, 169, 92)', 'rgb(255, 212, 90)', 'rgb(255, 41, 25)'],
        hoverOffset: 4
    }
]
};

const ctx = document.getElementById('overviewChart').getContext('2d');
const overview = new Chart(ctx, {
type: 'doughnut',
data: data,
options: {
    cutout: '90%', 
    elements: {
        arc: {
            borderWidth: 1, 
        }
    },
    plugins: {
        legend: {
            display: true,
            position: 'right',
            labels: {
                usePointStyle: true, 
                boxWidth: 10, 
                borderRadius: 100, 
            }
        }
    }
}
});
   
</script>

<script>
const stat = {
    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
    datasets: [{
        data: [157, 370, 170, 5, 200, 120, 290, 450, 190, 0, 0],
        backgroundColor: [
            'rgba(11, 70, 160)',

        ],
        borderWidth: 0,
        borderRadius: 100,
        borderDash: [5, 5],
    }]
};

const cts = document.getElementById('statisticsChart').getContext('2d');
const statistics = new Chart(cts, {
    type: 'bar',
    data: stat,
    options: {
    scales: {
        yAxes: [{
            gridLines: {
                drawBorder: false,
                display: false
            },
            ticks: {
                display: false,
                beginAtZero: true
            },
        }],
        xAxes: [{
            gridLines: {
                color: 'rgba(132, 151, 171, 0.2)',
                borderWidth: 0.5,
                borderDash: [5, 5],
            }
        }]
    },
    legend: {
        display: false
    },
    tooltips: {
        enabled: false
    }
}
});
</script> -->
<?php get_footer() ?>